compilation.log: |
  Starting >>> autoware_geography_utils
  --- stderr: autoware_geography_utils
  /workspace/repos/autoware/src/core/autoware.core/common/autoware_geography_utils/src/projection.cpp: In function ‘autoware::geography_utils::LocalPoint autoware::geography_utils::project_forward(const GeoPoint&, const MapProjectorInfo&)’:
  /workspace/repos/autoware/src/core/autoware.core/common/autoware_geography_utils/src/projection.cpp:36:5: error: ‘GPSPoint’ was not declared in this scope; did you mean ‘lanelet::GPSPoint’?
     36 |     GPSPoint gps_point;
        |     ^~~~~~~~
        |     lanelet::GPSPoint
  In file included from /opt/ros/humble/include/lanelet2_io/Projection.h:2,
                   from /workspace/repos/autoware/src/core/autoware.core/common/autoware_geography_utils/include/autoware/geography_utils/lanelet2_projector.hpp:20,
                   from /workspace/repos/autoware/src/core/autoware.core/common/autoware_geography_utils/src/projection.cpp:16:
  /opt/ros/humble/include/lanelet2_core/primitives/GPSPoint.h:7:7: note: ‘lanelet::GPSPoint’ declared here
      7 | class GPSPoint {
        |       ^~~~~~~~
  /workspace/repos/autoware/src/core/autoware.core/common/autoware_geography_utils/src/projection.cpp:37:5: error: ‘gps_point’ was not declared in this scope; did you mean ‘geo_point’?
     37 |     gps_point.lat = geo_point.latitude;
        |     ^~~~~~~~~
        |     geo_point
  /workspace/repos/autoware/src/core/autoware.core/common/autoware_geography_utils/src/projection.cpp:42:5: error: ‘BasicPoint3d’ was not declared in this scope; did you mean ‘lanelet::BasicPoint3d’?
     42 |     BasicPoint3d projected_point = projector->forward(gps_point);
        |     ^~~~~~~~~~~~
        |     lanelet::BasicPoint3d
  In file included from /opt/ros/humble/include/lanelet2_io/Projection.h:3,
                   from /workspace/repos/autoware/src/core/autoware.core/common/autoware_geography_utils/include/autoware/geography_utils/lanelet2_projector.hpp:20,
                   from /workspace/repos/autoware/src/core/autoware.core/common/autoware_geography_utils/src/projection.cpp:16:
  /opt/ros/humble/include/lanelet2_core/primitives/Point.h:19:7: note: ‘lanelet::BasicPoint3d’ declared here
     19 | using BasicPoint3d = Eigen::Vector3d;                                //!< a simple 3d-point
        |       ^~~~~~~~~~~~
  /workspace/repos/autoware/src/core/autoware.core/common/autoware_geography_utils/src/projection.cpp:46:21: error: ‘projected_point’ was not declared in this scope
     46 |     local_point.x = projected_point.x();
        |                     ^~~~~~~~~~~~~~~
  gmake[2]: *** [CMakeFiles/autoware_geography_utils.dir/build.make:90: CMakeFiles/autoware_geography_utils.dir/src/projection.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:157: CMakeFiles/autoware_geography_utils.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< autoware_geography_utils [1.52s, exited with code 2]

  Summary: 0 packages finished [2.93s]
    1 package failed: autoware_geography_utils
    1 package had stderr output: autoware_geography_utils
generate_code.cpp: "LocalPoint project_forward(const GeoPoint & geo_point, const MapProjectorInfo\
  \ & projector_info)\n{\n    // Create a lanelet2 projector based on the projector\
  \ info\n    auto projector = get_lanelet2_projector(projector_info);\n    \n   \
  \ // Convert GeoPoint to GPSPoint (assuming similar structure)\n    GPSPoint gps_point;\n\
  \    gps_point.lat = geo_point.latitude;\n    gps_point.lon = geo_point.longitude;\n\
  \    gps_point.ele = geo_point.altitude;\n    \n    // Project the GPS point to\
  \ local coordinates\n    BasicPoint3d projected_point = projector->forward(gps_point);\n\
  \    \n    // Convert to LocalPoint and return\n    LocalPoint local_point;\n  \
  \  local_point.x = projected_point.x();\n    local_point.y = projected_point.y();\n\
  \    local_point.z = projected_point.z();\n    \n    return local_point;\n}"
ground_truth.cpp: |-
  LocalPoint project_forward(const GeoPoint & geo_point, const MapProjectorInfo & projector_info)
  {
    std::unique_ptr<lanelet::Projector> projector = get_lanelet2_projector(projector_info);
    const lanelet::GPSPoint position{geo_point.latitude, geo_point.longitude, geo_point.altitude};

    lanelet::BasicPoint3d projected_local_point;
    if (projector_info.projector_type == MapProjectorInfo::MGRS) {
      constexpr int mgrs_precision = 9;  // set precision as 100 micro meter
      const auto mgrs_projector = dynamic_cast<lanelet::projection::MGRSProjector *>(projector.get());

      // project x and y using projector
      // note that the altitude is ignored in MGRS projection conventionally
      projected_local_point = mgrs_projector->forward(position, mgrs_precision);
    } else {
      // project x and y using projector
      // note that the original projector such as UTM projector does not compensate for the altitude
      // offset
      projected_local_point = projector->forward(position);

      // correct z based on the map origin
      // note that the converted altitude in local point is in the same vertical datum as the geo
      // point
      projected_local_point.z() = geo_point.altitude - projector_info.map_origin.altitude;
    }

    LocalPoint local_point;
    local_point.x = projected_local_point.x();
    local_point.y = projected_local_point.y();
    local_point.z = projected_local_point.z();

    return local_point;
  }
architecture-codes: []

functionality-codes:
  - Condition Issue - Conditional Check Missing Issue
  - Incomplete Code Issue - Missing Multiple Steps Issue
  - Domain Library Issue - Domain Specific Library Utilization Error
  - Operation/Calculation Issue - Violation of Physical & Kinematic Constraints Issue

root-cause-codes:
  - Solving Robotic Tasks Issue - Inadequate Understanding of Task Logic
  - Solving Robotic Tasks Issue - Inadequate Understanding in Domain Knowledge
  - Solving Robotic Tasks Issue - Inadequate Understanding of System Requirements