compilation.log: |
  Starting >>> autoware_planning_evaluator
  --- stderr: autoware_planning_evaluator
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_planning_evaluator/src/planning_evaluator_node.cpp: In member function ‘void planning_diagnostics::PlanningEvaluatorNode::onModifiedGoal(autoware_planning_msgs::msg::PoseWithUuidStamped_<std::allocator<void> >::ConstSharedPtr, nav_msgs::msg::Odometry_<std::allocator<void> >::ConstSharedPtr)’:
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_planning_evaluator/src/planning_evaluator_node.cpp:331:23: error: ‘autoware_planning_msgs::msg::PoseWithUuidStamped planning_diagnostics::MetricsCalculator::modified_goal_’ is private within this context
    331 |   metrics_calculator_.modified_goal_ = *modified_goal_msg;
        |                       ^~~~~~~~~~~~~~
  In file included from /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_planning_evaluator/include/autoware/planning_evaluator/planning_evaluator_node.hpp:18,
                   from /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_planning_evaluator/src/planning_evaluator_node.cpp:15:
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_planning_evaluator/include/autoware/planning_evaluator/metrics_calculator.hpp:94:23: note: declared private here
     94 |   PoseWithUuidStamped modified_goal_;
        |                       ^~~~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_planning_evaluator/src/planning_evaluator_node.cpp:337:34: error: cannot convert ‘geometry_msgs::msg::Pose’ {aka ‘geometry_msgs::msg::Pose_<std::allocator<void> >’} to ‘const Odometry&’ {aka ‘const nav_msgs::msg::Odometry_<std::allocator<void> >&’}
    337 |   metrics_calculator_.setEgoPose(ego_pose);
        |                                  ^~~~~~~~
        |                                  |
        |                                  geometry_msgs::msg::Pose {aka geometry_msgs::msg::Pose_<std::allocator<void> >}
  In file included from /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_planning_evaluator/include/autoware/planning_evaluator/planning_evaluator_node.hpp:18,
                   from /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_planning_evaluator/src/planning_evaluator_node.cpp:15:
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_planning_evaluator/include/autoware/planning_evaluator/metrics_calculator.hpp:78:51: note:   initializing argument 1 of ‘void planning_diagnostics::MetricsCalculator::setEgoPose(const Odometry&)’
     78 |   void setEgoPose(const nav_msgs::msg::Odometry & ego_odometry);
        |                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_planning_evaluator/src/planning_evaluator_node.cpp:341:27: error: ‘goal_longitudinal_deviation’ is not a member of ‘planning_diagnostics::Metric’; did you mean ‘modified_goal_longitudinal_deviation’?
    341 |     if (metric == Metric::goal_longitudinal_deviation ||
        |                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~
        |                           modified_goal_longitudinal_deviation
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_planning_evaluator/src/planning_evaluator_node.cpp:342:27: error: ‘goal_lateral_deviation’ is not a member of ‘planning_diagnostics::Metric’; did you mean ‘lateral_deviation’?
    342 |         metric == Metric::goal_lateral_deviation ||
        |                           ^~~~~~~~~~~~~~~~~~~~~~
        |                           lateral_deviation
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_planning_evaluator/src/planning_evaluator_node.cpp:343:27: error: ‘goal_yaw_deviation’ is not a member of ‘planning_diagnostics::Metric’; did you mean ‘yaw_deviation’?
    343 |         metric == Metric::goal_yaw_deviation) {
        |                           ^~~~~~~~~~~~~~~~~~
        |                           yaw_deviation
  gmake[2]: *** [CMakeFiles/planning_evaluator_node.dir/build.make:174: CMakeFiles/planning_evaluator_node.dir/src/planning_evaluator_node.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:161: CMakeFiles/planning_evaluator_node.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< autoware_planning_evaluator [13.9s, exited with code 2]

  Summary: 0 packages finished [15.3s]
    1 package failed: autoware_planning_evaluator
    1 package had stderr output: autoware_planning_evaluator
generate_code.cpp: |
  void PlanningEvaluatorNode::onModifiedGoal(
    const PoseWithUuidStamped::ConstSharedPtr modified_goal_msg,
    const Odometry::ConstSharedPtr ego_state_ptr)
  {
    if (!modified_goal_msg || !ego_state_ptr) {
      return;
    }

    // Set the modified goal in the metrics calculator
    metrics_calculator_.modified_goal_ = *modified_goal_msg;

    // Convert ego state to Pose
    geometry_msgs::msg::Pose ego_pose;
    ego_pose.position = ego_state_ptr->pose.pose.position;
    ego_pose.orientation = ego_state_ptr->pose.pose.orientation;
    metrics_calculator_.setEgoPose(ego_pose);

    // Calculate and record metrics
    for (const auto metric : metrics_) {
      if (metric == Metric::goal_longitudinal_deviation || 
          metric == Metric::goal_lateral_deviation || 
          metric == Metric::goal_yaw_deviation) {
        const auto result = metrics_calculator_.calculate(
          metric, ego_pose, modified_goal_msg->pose);
        if (result && output_metrics_) {
          AddMetricMsg(metric, *result);
        }
      }
    }
  }
ground_truth.cpp: |-
  void PlanningEvaluatorNode::onModifiedGoal(
    const PoseWithUuidStamped::ConstSharedPtr modified_goal_msg,
    const Odometry::ConstSharedPtr ego_state_ptr)
  {
    if (!modified_goal_msg || !ego_state_ptr) {
      return;
    }
    auto start = now();

    for (Metric metric : metrics_) {
      const auto metric_stat = metrics_calculator_.calculate(
        Metric(metric), modified_goal_msg->pose, ego_state_ptr->pose.pose);
      if (!metric_stat) {
        continue;
      }
      if (output_metrics_) {
        metric_accumulators_[static_cast<size_t>(metric)][0].add(metric_stat->min());
        metric_accumulators_[static_cast<size_t>(metric)][1].add(metric_stat->max());
        metric_accumulators_[static_cast<size_t>(metric)][2].add(metric_stat->mean());
      }
      if (metric_stat->count() > 0) {
        AddMetricMsg(metric, *metric_stat);
      }
    }
    auto runtime = (now() - start).seconds();
    RCLCPP_DEBUG(
      get_logger(), "Planning evaluation modified goal deviation calculation time: %2.2f ms",
      runtime * 1e3);
  }
architecture-codes:
  - ROS Message Issue - Incorrect Message Member Access Issue 
  - ROS Message Issue - Improper Message Type Usage Issue 
  - ROS Message Issue - Message Operation Issue 
  - ROS Logger Issue - ROS Logger Missing Issue 

functionality-codes:
  - Incomplete Code Issue - Missing Multiple Steps Issue 
  - Condition Issue - Condition Check Logic Misapplication Issue 
  - Constant Value Issue 
  - Domain Library Issue - Domain Specific Library Utilization Error 

root-cause-codes:
  - Solving Robotic Tasks Issue - Inadequate Understanding of Task Logic 
  - Framework Integration Issue - Insufficient understanding of ROS Integration 
  - Framework Integration Issue - Lack of ROS development best practices 
  - Solving Robotic Tasks Issue - Inadequate Understanding of Existing Codebase  