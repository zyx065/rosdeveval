repository: autoware
language: C++
ros_package_file: src/universe/autoware.universe/planning/autoware_velocity_smoother
ros_package: autoware_velocity_smoother
file_path: src/node.cpp
method_name: VelocitySmootherNode::publishStopDistance
requirement: |
  /**
  * Publishes the distance from the ego vehicle to the nearest stop point in the trajectory.
  * 
  * @param trajectory The planned trajectory points to analyze for stop distance calculation.
  */
category: ros_architecture
type: has_topic,has_timer,has_message
signature: |
  void VelocitySmootherNode::publishStopDistance(const TrajectoryPoints & trajectory) const
additional_information: 
  function_related_variable: |
    rclcpp::Publisher<Float32Stamped>::SharedPtr pub_dist_to_stopline_;
  function_related_function: |
    size_t findNearestIndexFromEgo(const TrajectoryPoints & points) const;
  function_related_class: |
    namespace autoware::motion_utils{
      double calcSignedArcLength(const T & points, const size_t src_idx, const size_t dst_idx)
      std::optional<size_t> searchZeroVelocityIndex(const T & points_with_twist)
    }
test: test_autoware_velocity_smoother
test_cases: []