repository: autoware
language: C++
ros_package_file: src/universe/autoware.universe/localization/autoware_gyro_odometer
ros_package: autoware_gyro_odometer
file_path: src/gyro_odometer_core.cpp
method_name: GyroOdometerNode::GyroOdometerNode
requirement: |
  /**
  * @brief Construct a new Gyro Odometer Node object.
  *
  * Initializes the ROS 2 node, declares parameters, sets up subscriptions for vehicle twist and IMU
  * data, and initializes publishers for twist messages and diagnostics.
  *
  * @param node_options Additional options to control the node's behavior.
  */
category: ros_architecture
type: has_topic,has_diagnostic,has_message
signature: |
  GyroOdometerNode::GyroOdometerNode(const rclcpp::NodeOptions & node_options)
  : Node("gyro_odometer", node_options),
    output_frame_(declare_parameter<std::string>("output_frame")),
    message_timeout_sec_(declare_parameter<double>("message_timeout_sec")),
    vehicle_twist_arrived_(false),
    imu_arrived_(false)
additional_information:
  function_related_variable: |
    std::shared_ptr<autoware::universe_utils::TransformListener> transform_listener_;
    std::unique_ptr<autoware::universe_utils::LoggerLevelConfigure> logger_configure_;
    rclcpp::Subscription<geometry_msgs::msg::TwistWithCovarianceStamped>::SharedPtr vehicle_twist_sub_;
    rclcpp::Publisher<geometry_msgs::msg::TwistStamped>::SharedPtr twist_raw_pub_;
    rclcpp::Publisher<geometry_msgs::msg::TwistWithCovarianceStamped>::SharedPtr twist_with_covariance_raw_pub_;
    rclcpp::Publisher<geometry_msgs::msg::TwistStamped>::SharedPtr twist_pub_;
    rclcpp::Publisher<geometry_msgs::msg::TwistWithCovarianceStamped>::SharedPtr twist_with_covariance_pub_;
    std::unique_ptr<autoware::localization_util::DiagnosticsModule> diagnostics_;
  function_related_function: |
    void GyroOdometerNode::callback_vehicle_twist(const geometry_msgs::msg::TwistWithCovarianceStamped::ConstSharedPtr vehicle_twist_msg_ptr)
test: test_gyro_odometer
test_cases: 
- TestGyroOdometerWithImuAndVelocity
- TestGyroOdometerImuOnly