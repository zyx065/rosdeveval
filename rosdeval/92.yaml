repository: autoware
language: C++
ros_package_file: src/core/autoware.core/common/autoware_geography_utils
ros_package: autoware_geography_utils
file_path: src/projection.cpp
method_name: project_forward
requirement: |
  /**
  * Projects a geographic point to local coordinates using the specified map projector.
  * 
  * @param geo_point The geographic point with latitude, longitude, and altitude to project.
  * @param projector_info Contains projection parameters including projector type and map origin.
  * @return LocalPoint The projected point in local Cartesian coordinates (x, y, z).
  */
category: utilities
type: has_domain_library,has_message
signature: |
  LocalPoint project_forward(const GeoPoint & geo_point, const MapProjectorInfo & projector_info)
additional_information: 
  function_related_function: |
    std::unique_ptr<lanelet::Projector> get_lanelet2_projector(const MapProjectorInfo & projector_info);
  function_related_class: |
    class MGRSProjector : public Projector
    {
    public:
      explicit MGRSProjector(Origin origin = Origin({0.0, 0.0}));

      /**
      * [MGRSProjector::forward projects gps lat/lon to MGRS 100km grid]
      * @param  gps [point with latitude longitude information]
      * @return     [projected point in MGRS coordinate]
      */
      BasicPoint3d forward(const GPSPoint & gps) const override;

      /**
      * [MGRSProjector::forward projects gps lat/lon to MGRS xyz coordinate]
      * @param  gps       [point with latitude longitude information]
      * @param  precision [resolution of MGRS Grid 0=100km, 1=10km, 2=1km, 3=100m,
      * 4=10m, 5=1m]
      * @return           [projected point in MGRS coordinate]
      */
      BasicPoint3d forward(const GPSPoint & gps, const int precision) const;

      /**
      * [MGRSProjector::reverse projects point within MGRS 100km grid into gps
      * lat/lon (WGS84)]
      * @param  mgrs_point [3d point in MGRS 100km grid]
      * @return            [projected point in WGS84]
      */
      GPSPoint reverse(const BasicPoint3d & mgrs) const override;

      /**
      * [MGRSProjector::reverse projects point within MGRS grid into gps lat/lon
      * (WGS84)]
      * @param  mgrs_point [3d point in MGRS grid]
      * @param  mgrs_code  [MGRS grid code]
      * @return            [projected point in WGS84]
      */
      static GPSPoint reverse(const BasicPoint3d & mgrs_point, const std::string & mgrs_code);

      /**
      * [MGRSProjector::setMGRSCode sets MGRS code used for reverse projection]
      * @param mgrs_code [MGRS code. Minimum requirement is GZD and 100 km Grid
      * Square ID. e.g. "4QFJ"]
      */
      void setMGRSCode(const std::string & mgrs_code);

      /**
      * [MGRSProjector::setMGRSCode sets MGRS code used for reverse projection from
      * gps lat/lon values]
      * @param gps       [gps point used to find GMRS Grid]
      * @param precision [resolution of MGRS Grid 0=100km, 1=10km, 2=1km, 3=100m,
      * 4=10m, 5=1m]
      */
      void setMGRSCode(const GPSPoint & gps, const int precision = 0);

      /**
      * [getProjectedMGRSGrid returns mgrs]
      * @return [description]
      */
      std::string getProjectedMGRSGrid() const { return projected_grid_; }

      /**
      * [isMGRSCodeSet checks if mgrs code is set for reverse projection]
      * @return [true if mgrs_code member is set]
      */
      bool isMGRSCodeSet() const { return !mgrs_code_.empty(); }

    private:
      /**
      * mgrs grid code used for reverse function
      */
      std::string mgrs_code_;

      /**
      * mgrs grid code that was last projected in previous forward function.
      * reverse function will use this if isMGRSCodeSet() returns false.
      */
      mutable std::string projected_grid_;
    };
test: test_autoware_geography_utils
test_cases: 
- ProjectForwardAndReverseMGRS
- ProjectForwardToLocalCartesianUTMOrigin
- ProjectForwardAndReverseLocalCartesianUTMOrigin