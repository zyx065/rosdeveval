compilation.log: |
  Starting >>> autoware_obstacle_collision_checker
  Finished <<< autoware_obstacle_collision_checker [26.7s]

  Summary: 1 package finished [28.1s]
generate_code.cpp: |-
  pcl::PointCloud<pcl::PointXYZ> get_transformed_point_cloud(
    const sensor_msgs::msg::PointCloud2 & pointcloud_msg,
    const geometry_msgs::msg::Transform & transform)
  {
      // Convert ROS PointCloud2 to PCL PointCloud
      pcl::PointCloud<pcl::PointXYZ> input_cloud;
      pcl::fromROSMsg(pointcloud_msg, input_cloud);

      // Create transformed point cloud
      pcl::PointCloud<pcl::PointXYZ> transformed_cloud;

      // Create Eigen transform from geometry_msgs Transform
      Eigen::Affine3d eigen_transform;
      eigen_transform.translation() = Eigen::Vector3d(
          transform.translation.x,
          transform.translation.y,
          transform.translation.z
      );
      eigen_transform.linear() = Eigen::Quaterniond(
          transform.rotation.w,
          transform.rotation.x,
          transform.rotation.y,
          transform.rotation.z
      ).toRotationMatrix();

      // Apply transformation
      pcl::transformPointCloud(input_cloud, transformed_cloud, eigen_transform);

      return transformed_cloud;
  }
ground_truth.cpp: |-
  pcl::PointCloud<pcl::PointXYZ> get_transformed_point_cloud(
    const sensor_msgs::msg::PointCloud2 & pointcloud_msg,
    const geometry_msgs::msg::Transform & transform)
  {
    const Eigen::Matrix4f transform_matrix = tf2::transformToEigen(transform).matrix().cast<float>();

    sensor_msgs::msg::PointCloud2 transformed_msg;
    pcl_ros::transformPointCloud(transform_matrix, pointcloud_msg, transformed_msg);

    pcl::PointCloud<pcl::PointXYZ> transformed_pointcloud;
    pcl::fromROSMsg(transformed_msg, transformed_pointcloud);

    return transformed_pointcloud;
  }
architecture-codes: []
  functionality-codes:
    - Domain Library Issues - Lack of Domain Library Utilization
    - Domain Library Issues - Domain Specific Library Utilization Error
root-cause-codes:
    - Deficiencies in Domain Knowledge - Lack of ROS development best practices
    - Deficiencies in Domain Knowledge - Lack of Knowledge of Domain-Specific Libraries
    - Inadequate Comprehension of Functional Logic - Inadequate Understanding of System Requirements