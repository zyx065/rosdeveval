compilation.log: |
  Starting >>> autoware_obstacle_cruise_planner
  --- stderr: autoware_obstacle_cruise_planner
  /workspace/repos/autoware/src/universe/autoware.universe/planning/autoware_obstacle_cruise_planner/src/planner_interface.cpp: In member function ‘void PlannerInterface::publishMetrics(const rclcpp::Time&)’:
  /workspace/repos/autoware/src/universe/autoware.universe/planning/autoware_obstacle_cruise_planner/src/planner_interface.cpp:850:17: error: ‘using MetricArray = using MetricArray = struct tier4_metric_msgs::msg::MetricArray_<std::allocator<void> >’ {aka ‘struct tier4_metric_msgs::msg::MetricArray_<std::allocator<void> >’} has no member named ‘header’
    850 |     metrics_msg.header.stamp = current_time;
        |                 ^~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/planning/autoware_obstacle_cruise_planner/src/planner_interface.cpp:853:17: error: ‘using MetricArray = using MetricArray = struct tier4_metric_msgs::msg::MetricArray_<std::allocator<void> >’ {aka ‘struct tier4_metric_msgs::msg::MetricArray_<std::allocator<void> >’} has no member named ‘metrics’
    853 |     metrics_msg.metrics = debug_data_ptr_->getMetrics();
        |                 ^~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/planning/autoware_obstacle_cruise_planner/src/planner_interface.cpp:853:44: error: ‘using element_type = struct DebugData’ {aka ‘struct DebugData’} has no member named ‘getMetrics’
    853 |     metrics_msg.metrics = debug_data_ptr_->getMetrics();
        |                                            ^~~~~~~~~~
  gmake[2]: *** [CMakeFiles/autoware_obstacle_cruise_planner_core.dir/build.make:160: CMakeFiles/autoware_obstacle_cruise_planner_core.dir/src/planner_interface.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:159: CMakeFiles/autoware_obstacle_cruise_planner_core.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< autoware_obstacle_cruise_planner [9.53s, exited with code 2]

  Summary: 0 packages finished [11.0s]
    1 package failed: autoware_obstacle_cruise_planner
    1 package had stderr output: autoware_obstacle_cruise_planner
generate_code.cpp: |-
  void PlannerInterface::publishMetrics(const rclcpp::Time & current_time)
  {
      // Check if debug data pointer is valid and metrics publisher exists
      if (!debug_data_ptr_ || !metrics_pub_) {
          return;
      }

      // Create a MetricArray message to publish metrics
      MetricArray metrics_msg;
      metrics_msg.header.stamp = current_time;

      // Populate metrics from debug data
      metrics_msg.metrics = debug_data_ptr_->getMetrics();

      // Publish the metrics message
      metrics_pub_->publish(metrics_msg);

      // Clear the internal metric data after publishing
      clearMetrics();
  }
ground_truth.cpp: |-
  void PlannerInterface::publishMetrics(const rclcpp::Time & current_time)
  {
    // create array
    MetricArray metrics_msg;
    metrics_msg.stamp = current_time;

    auto addMetrics = [&metrics_msg](std::optional<std::vector<Metric>> & opt_metrics) {
      if (opt_metrics) {
        metrics_msg.metric_array.insert(
          metrics_msg.metric_array.end(), opt_metrics->begin(), opt_metrics->end());
      }
    };
    addMetrics(debug_data_ptr_->stop_metrics);
    addMetrics(debug_data_ptr_->slow_down_metrics);
    addMetrics(debug_data_ptr_->cruise_metrics);
    metrics_pub_->publish(metrics_msg);
    clearMetrics();
  }
architecture-codes:
  - ROS Message Related Issues - Incorrect Message Member Access
  - ROS Message Related Issues - Improper Message Type Usage Issue
functionality-codes:
  - Incomplete Code - Missing Multiple Steps
  - Reference Error - Wrong Method
root-cause-codes:
  - Deficiencies in Domain Knowledge - Insufficient understanding of ROS Programming
  - Weakness in System-Level Integration - Lack of familiarity with the existing codebase