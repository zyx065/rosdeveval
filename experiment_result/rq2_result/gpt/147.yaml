compilation.log: |
  Starting >>> moveit_core
  Finished <<< moveit_core [0.69s]

  Summary: 1 package finished [1.15s]
generate_code.cpp: |-
  std::optional<double> waypoint_density(RobotTrajectory const& trajectory) {
      // Get the total number of waypoints in the trajectory
      std::size_t waypoint_count = trajectory.getWayPointCount();

      // Calculate the total path length of the trajectory
      double total_path_length = path_length(trajectory);

      // Check if the path length is greater than zero to avoid division by zero
      if (total_path_length > 0.0) {
          // Calculate and return the waypoint density
          return static_cast<double>(waypoint_count) / total_path_length;
      } else {
          // Return std::nullopt if the path length is zero or invalid
          return std::nullopt;
      }
  }
ground_truth.cpp: |-
  std::optional<double> waypoint_density(RobotTrajectory const& trajectory)
  {
    // Only calculate density if more than one waypoint exists
    if (trajectory.getWayPointCount() > 1)
    {
      // Calculate path length
      auto const length = path_length(trajectory);
      if (length > 0.0)
      {
        auto density = (double)trajectory.getWayPointCount() / length;
        return density;
      }
    }
    // Trajectory is empty, a single point or path length is zero
    return std::nullopt;
  }
