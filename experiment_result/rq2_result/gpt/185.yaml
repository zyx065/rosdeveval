compilation.log: |
  Starting >>> nav2_route
  --- stderr: nav2_route
  In file included from /root/repos/nav_ws/src/nav2_route/include/nav2_route/plugins/route_operations/collision_monitor.hpp:25,
                   from /root/repos/nav_ws/src/nav2_route/src/plugins/route_operations/collision_monitor.cpp:20:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp: In function ‘nav2_msgs::msg::Route nav2_route::utils::toMsg(const nav2_route::Route&, const string&, const rclcpp::Time&)’:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:178:37: error: ‘const struct nav2_route::Route’ has no member named ‘segments’
    178 |   for (const auto & segment : route.segments) {
        |                                     ^~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:179:21: error: ‘RouteSegment’ is not a member of ‘nav2_msgs::msg’
    179 |     nav2_msgs::msg::RouteSegment segment_msg;
        |                     ^~~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:182:5: error: ‘segment_msg’ was not declared in this scope
    182 |     segment_msg.start = segment.start;
        |     ^~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:191:15: error: ‘using Route = struct nav2_msgs::msg::Route_<std::allocator<void> >’ {aka ‘struct nav2_msgs::msg::Route_<std::allocator<void> >’} has no member named ‘segments’
    191 |     route_msg.segments.push_back(segment_msg);
        |               ^~~~~~~~
  In file included from /root/repos/nav_ws/src/nav2_route/include/nav2_route/route_planner.hpp:28,
                   from /root/repos/nav_ws/src/nav2_route/src/route_planner.cpp:22:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp: In function ‘nav2_msgs::msg::Route nav2_route::utils::toMsg(const nav2_route::Route&, const string&, const rclcpp::Time&)’:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:178:37: error: ‘const struct nav2_route::Route’ has no member named ‘segments’
    178 |   for (const auto & segment : route.segments) {
        |                                     ^~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:179:21: error: ‘RouteSegment’ is not a member of ‘nav2_msgs::msg’
    179 |     nav2_msgs::msg::RouteSegment segment_msg;
        |                     ^~~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:182:5: error: ‘segment_msg’ was not declared in this scope
    182 |     segment_msg.start = segment.start;
        |     ^~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:191:15: error: ‘using Route = struct nav2_msgs::msg::Route_<std::allocator<void> >’ {aka ‘struct nav2_msgs::msg::Route_<std::allocator<void> >’} has no member named ‘segments’
    191 |     route_msg.segments.push_back(segment_msg);
        |               ^~~~~~~~
  In file included from /root/repos/nav_ws/src/nav2_route/include/nav2_route/path_converter.hpp:28,
                   from /root/repos/nav_ws/src/nav2_route/src/path_converter.cpp:22:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp: In function ‘nav2_msgs::msg::Route nav2_route::utils::toMsg(const nav2_route::Route&, const string&, const rclcpp::Time&)’:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:178:37: error: ‘const struct nav2_route::Route’ has no member named ‘segments’
    178 |   for (const auto & segment : route.segments) {
        |                                     ^~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:179:21: error: ‘RouteSegment’ is not a member of ‘nav2_msgs::msg’
    179 |     nav2_msgs::msg::RouteSegment segment_msg;
        |                     ^~~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:182:5: error: ‘segment_msg’ was not declared in this scope
    182 |     segment_msg.start = segment.start;
        |     ^~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:191:15: error: ‘using Route = struct nav2_msgs::msg::Route_<std::allocator<void> >’ {aka ‘struct nav2_msgs::msg::Route_<std::allocator<void> >’} has no member named ‘segments’
    191 |     route_msg.segments.push_back(segment_msg);
        |               ^~~~~~~~
  In file included from /root/repos/nav_ws/src/nav2_route/include/nav2_route/edge_scorer.hpp:28,
                   from /root/repos/nav_ws/src/nav2_route/src/edge_scorer.cpp:20:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp: In function ‘nav2_msgs::msg::Route nav2_route::utils::toMsg(const nav2_route::Route&, const string&, const rclcpp::Time&)’:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:178:37: error: ‘const struct nav2_route::Route’ has no member named ‘segments’
    178 |   for (const auto & segment : route.segments) {
        |                                     ^~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:179:21: error: ‘RouteSegment’ is not a member of ‘nav2_msgs::msg’
    179 |     nav2_msgs::msg::RouteSegment segment_msg;
        |                     ^~~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:182:5: error: ‘segment_msg’ was not declared in this scope
    182 |     segment_msg.start = segment.start;
        |     ^~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:191:15: error: ‘using Route = struct nav2_msgs::msg::Route_<std::allocator<void> >’ {aka ‘struct nav2_msgs::msg::Route_<std::allocator<void> >’} has no member named ‘segments’
    191 |     route_msg.segments.push_back(segment_msg);
        |               ^~~~~~~~
  In file included from /root/repos/nav_ws/src/nav2_route/include/nav2_route/operations_manager.hpp:26,
                   from /root/repos/nav_ws/src/nav2_route/include/nav2_route/route_tracker.hpp:25,
                   from /root/repos/nav_ws/src/nav2_route/src/route_tracker.cpp:15:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp: In function ‘nav2_msgs::msg::Route nav2_route::utils::toMsg(const nav2_route::Route&, const string&, const rclcpp::Time&)’:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:178:37: error: ‘const struct nav2_route::Route’ has no member named ‘segments’
    178 |   for (const auto & segment : route.segments) {
        |                                     ^~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:179:21: error: ‘RouteSegment’ is not a member of ‘nav2_msgs::msg’
    179 |     nav2_msgs::msg::RouteSegment segment_msg;
        |                     ^~~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:182:5: error: ‘segment_msg’ was not declared in this scope
    182 |     segment_msg.start = segment.start;
        |     ^~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:191:15: error: ‘using Route = struct nav2_msgs::msg::Route_<std::allocator<void> >’ {aka ‘struct nav2_msgs::msg::Route_<std::allocator<void> >’} has no member named ‘segments’
    191 |     route_msg.segments.push_back(segment_msg);
        |               ^~~~~~~~
  In file included from /root/repos/nav_ws/src/nav2_route/include/nav2_route/route_server.hpp:40,
                   from /root/repos/nav_ws/src/nav2_route/src/route_server.cpp:15:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp: In function ‘nav2_msgs::msg::Route nav2_route::utils::toMsg(const nav2_route::Route&, const string&, const rclcpp::Time&)’:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:178:37: error: ‘const struct nav2_route::Route’ has no member named ‘segments’
    178 |   for (const auto & segment : route.segments) {
        |                                     ^~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:179:21: error: ‘RouteSegment’ is not a member of ‘nav2_msgs::msg’
    179 |     nav2_msgs::msg::RouteSegment segment_msg;
        |                     ^~~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:182:5: error: ‘segment_msg’ was not declared in this scope
    182 |     segment_msg.start = segment.start;
        |     ^~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:191:15: error: ‘using Route = struct nav2_msgs::msg::Route_<std::allocator<void> >’ {aka ‘struct nav2_msgs::msg::Route_<std::allocator<void> >’} has no member named ‘segments’
    191 |     route_msg.segments.push_back(segment_msg);
        |               ^~~~~~~~
  In file included from /root/repos/nav_ws/src/nav2_route/include/nav2_route/goal_intent_extractor.hpp:31,
                   from /root/repos/nav_ws/src/nav2_route/src/goal_intent_extractor.cpp:19:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp: In function ‘nav2_msgs::msg::Route nav2_route::utils::toMsg(const nav2_route::Route&, const string&, const rclcpp::Time&)’:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:178:37: error: ‘const struct nav2_route::Route’ has no member named ‘segments’
    178 |   for (const auto & segment : route.segments) {
        |                                     ^~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:179:21: error: ‘RouteSegment’ is not a member of ‘nav2_msgs::msg’
    179 |     nav2_msgs::msg::RouteSegment segment_msg;
        |                     ^~~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:182:5: error: ‘segment_msg’ was not declared in this scope
    182 |     segment_msg.start = segment.start;
        |     ^~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:191:15: error: ‘using Route = struct nav2_msgs::msg::Route_<std::allocator<void> >’ {aka ‘struct nav2_msgs::msg::Route_<std::allocator<void> >’} has no member named ‘segments’
    191 |     route_msg.segments.push_back(segment_msg);
        |               ^~~~~~~~
  gmake[2]: *** [CMakeFiles/route_server_core.dir/build.make:160: CMakeFiles/route_server_core.dir/src/path_converter.cpp.o] Error 1
  gmake[2]: *** Waiting for unfinished jobs....
  In file included from /root/repos/nav_ws/src/nav2_route/src/operations_manager.cpp:20:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp: In function ‘nav2_msgs::msg::Route nav2_route::utils::toMsg(const nav2_route::Route&, const string&, const rclcpp::Time&)’:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:178:37: error: ‘const struct nav2_route::Route’ has no member named ‘segments’
    178 |   for (const auto & segment : route.segments) {
        |                                     ^~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:179:21: error: ‘RouteSegment’ is not a member of ‘nav2_msgs::msg’
    179 |     nav2_msgs::msg::RouteSegment segment_msg;
        |                     ^~~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:182:5: error: ‘segment_msg’ was not declared in this scope
    182 |     segment_msg.start = segment.start;
        |     ^~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:191:15: error: ‘using Route = struct nav2_msgs::msg::Route_<std::allocator<void> >’ {aka ‘struct nav2_msgs::msg::Route_<std::allocator<void> >’} has no member named ‘segments’
    191 |     route_msg.segments.push_back(segment_msg);
        |               ^~~~~~~~
  gmake[2]: *** [CMakeFiles/route_operations.dir/build.make:118: CMakeFiles/route_operations.dir/src/plugins/route_operations/collision_monitor.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:292: CMakeFiles/route_operations.dir/all] Error 2
  gmake[1]: *** Waiting for unfinished jobs....
  In file included from /root/repos/nav_ws/src/nav2_route/include/nav2_route/node_spatial_tree.hpp:25,
                   from /root/repos/nav_ws/src/nav2_route/src/node_spatial_tree.cpp:19:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp: In function ‘nav2_msgs::msg::Route nav2_route::utils::toMsg(const nav2_route::Route&, const string&, const rclcpp::Time&)’:
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:178:37: error: ‘const struct nav2_route::Route’ has no member named ‘segments’
    178 |   for (const auto & segment : route.segments) {
        |                                     ^~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:179:21: error: ‘RouteSegment’ is not a member of ‘nav2_msgs::msg’
    179 |     nav2_msgs::msg::RouteSegment segment_msg;
        |                     ^~~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:182:5: error: ‘segment_msg’ was not declared in this scope
    182 |     segment_msg.start = segment.start;
        |     ^~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_route/include/nav2_route/utils.hpp:191:15: error: ‘using Route = struct nav2_msgs::msg::Route_<std::allocator<void> >’ {aka ‘struct nav2_msgs::msg::Route_<std::allocator<void> >’} has no member named ‘segments’
    191 |     route_msg.segments.push_back(segment_msg);
        |               ^~~~~~~~
  gmake[2]: *** [CMakeFiles/route_server_core.dir/build.make:202: CMakeFiles/route_server_core.dir/src/goal_intent_extractor.cpp.o] Error 1
  gmake[2]: *** [CMakeFiles/route_server_core.dir/build.make:90: CMakeFiles/route_server_core.dir/src/route_planner.cpp.o] Error 1
  gmake[2]: *** [CMakeFiles/route_server_core.dir/build.make:118: CMakeFiles/route_server_core.dir/src/edge_scorer.cpp.o] Error 1
  gmake[2]: *** [CMakeFiles/route_server_core.dir/build.make:146: CMakeFiles/route_server_core.dir/src/node_spatial_tree.cpp.o] Error 1
  gmake[2]: *** [CMakeFiles/route_server_core.dir/build.make:104: CMakeFiles/route_server_core.dir/src/route_tracker.cpp.o] Error 1
  gmake[2]: *** [CMakeFiles/route_server_core.dir/build.make:132: CMakeFiles/route_server_core.dir/src/operations_manager.cpp.o] Error 1
  gmake[2]: *** [CMakeFiles/route_server_core.dir/build.make:76: CMakeFiles/route_server_core.dir/src/route_server.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:214: CMakeFiles/route_server_core.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< nav2_route [7.27s, exited with code 2]

  Summary: 0 packages finished [7.52s]
    1 package failed: nav2_route
    1 package had stderr output: nav2_route
generate_code.cpp: |-
  inline nav2_msgs::msg::Route toMsg(
    const nav2_route::Route & route, const std::string & frame, const rclcpp::Time & now)
  {
    nav2_msgs::msg::Route route_msg;

    // Set the header
    route_msg.header.stamp = now;
    route_msg.header.frame_id = frame;

    // Populate the segments
    for (const auto & segment : route.segments) {
      nav2_msgs::msg::RouteSegment segment_msg;

      // Copy start and end poses
      segment_msg.start = segment.start;
      segment_msg.end = segment.end;

      // Copy waypoints
      for (const auto & waypoint : segment.waypoints) {
        segment_msg.waypoints.push_back(waypoint);
      }

      // Add the segment to the route message
      route_msg.segments.push_back(segment_msg);
    }

    return route_msg;
  }
ground_truth.cpp: |-
  inline nav2_msgs::msg::Route toMsg(
    const nav2_route::Route & route, const std::string & frame, const rclcpp::Time & now)
  {
    nav2_msgs::msg::Route msg;
    msg.header.frame_id = frame;
    msg.header.stamp = now;
    msg.route_cost = route.route_cost;

    nav2_msgs::msg::RouteNode route_node;
    nav2_msgs::msg::RouteEdge route_edge;
    route_node.nodeid = route.start_node->nodeid;
    route_node.position.x = route.start_node->coords.x;
    route_node.position.y = route.start_node->coords.y;
    msg.nodes.push_back(route_node);

    // Provide the Node info and Edge IDs we're traversing through
    for (unsigned int i = 0; i != route.edges.size(); i++) {
      route_edge.edgeid = route.edges[i]->edgeid;
      route_edge.start.x = route.edges[i]->start->coords.x;
      route_edge.start.y = route.edges[i]->start->coords.y;
      route_edge.end.x = route.edges[i]->end->coords.x;
      route_edge.end.y = route.edges[i]->end->coords.y;
      msg.edges.push_back(route_edge);

      route_node.nodeid = route.edges[i]->end->nodeid;
      route_node.position.x = route.edges[i]->end->coords.x;
      route_node.position.y = route.edges[i]->end->coords.y;
      msg.nodes.push_back(route_node);
    }

    return msg;
  }
