compilation.log: |
  Starting >>> autoware_raindrop_cluster_filter
  --- stderr: autoware_raindrop_cluster_filter
  /workspace/repos/autoware/src/universe/autoware.universe/perception/autoware_raindrop_cluster_filter/src/low_intensity_cluster_filter_node.cpp: In constructor ‘autoware::low_intensity_cluster_filter::LowIntensityClusterFilter::LowIntensityClusterFilter(const rclcpp::NodeOptions&)’:
  /workspace/repos/autoware/src/universe/autoware.universe/perception/autoware_raindrop_cluster_filter/src/low_intensity_cluster_filter_node.cpp:44:102: error: no matching function for call to ‘autoware::detected_object_validation::utils::FilterTargetLabel::FilterTargetLabel(std::string&)’
     44 |   filter_target_ = autoware::detected_object_validation::utils::FilterTargetLabel(filter_target_label);
        |                                                                                                      ^
  In file included from /workspace/repos/autoware/src/universe/autoware.universe/perception/autoware_raindrop_cluster_filter/src/low_intensity_cluster_filter_node.hpp:18,
                   from /workspace/repos/autoware/src/universe/autoware.universe/perception/autoware_raindrop_cluster_filter/src/low_intensity_cluster_filter_node.cpp:15:
  /workspace/repos/autoware/install/autoware_detected_object_validation/include/autoware/detected_object_validation/utils/utils.hpp:26:8: note: candidate: ‘autoware::detected_object_validation::utils::FilterTargetLabel::FilterTargetLabel()’
     26 | struct FilterTargetLabel
        |        ^~~~~~~~~~~~~~~~~
  /workspace/repos/autoware/install/autoware_detected_object_validation/include/autoware/detected_object_validation/utils/utils.hpp:26:8: note:   candidate expects 0 arguments, 1 provided
  /workspace/repos/autoware/install/autoware_detected_object_validation/include/autoware/detected_object_validation/utils/utils.hpp:26:8: note: candidate: ‘constexpr autoware::detected_object_validation::utils::FilterTargetLabel::FilterTargetLabel(const autoware::detected_object_validation::utils::FilterTargetLabel&)’
  /workspace/repos/autoware/install/autoware_detected_object_validation/include/autoware/detected_object_validation/utils/utils.hpp:26:8: note:   no known conversion for argument 1 from ‘std::string’ {aka ‘std::__cxx11::basic_string<char>’} to ‘const autoware::detected_object_validation::utils::FilterTargetLabel&’
  /workspace/repos/autoware/install/autoware_detected_object_validation/include/autoware/detected_object_validation/utils/utils.hpp:26:8: note: candidate: ‘constexpr autoware::detected_object_validation::utils::FilterTargetLabel::FilterTargetLabel(autoware::detected_object_validation::utils::FilterTargetLabel&&)’
  /workspace/repos/autoware/install/autoware_detected_object_validation/include/autoware/detected_object_validation/utils/utils.hpp:26:8: note:   no known conversion for argument 1 from ‘std::string’ {aka ‘std::__cxx11::basic_string<char>’} to ‘autoware::detected_object_validation::utils::FilterTargetLabel&&’
  /workspace/repos/autoware/src/universe/autoware.universe/perception/autoware_raindrop_cluster_filter/src/low_intensity_cluster_filter_node.cpp:51:43: error: ‘filterObjectsCallback’ is not a member of ‘autoware::low_intensity_cluster_filter::LowIntensityClusterFilter’
     51 |     std::bind(&LowIntensityClusterFilter::filterObjectsCallback, this, std::placeholders::_1));
        |                                           ^~~~~~~~~~~~~~~~~~~~~
  In file included from /usr/include/c++/11/memory:76,
                   from /workspace/repos/autoware/install/autoware_perception_msgs/include/autoware_perception_msgs/autoware_perception_msgs/msg/detail/detected_objects__struct.hpp:10,
                   from /workspace/repos/autoware/install/autoware_perception_msgs/include/autoware_perception_msgs/autoware_perception_msgs/msg/detected_objects.hpp:7,
                   from /workspace/repos/autoware/install/autoware_detected_object_validation/include/autoware/detected_object_validation/utils/utils.hpp:18,
                   from /workspace/repos/autoware/src/universe/autoware.universe/perception/autoware_raindrop_cluster_filter/src/low_intensity_cluster_filter_node.hpp:18,
                   from /workspace/repos/autoware/src/universe/autoware.universe/perception/autoware_raindrop_cluster_filter/src/low_intensity_cluster_filter_node.cpp:15:
  /usr/include/c++/11/bits/unique_ptr.h: In instantiation of ‘typename std::_MakeUniq<_Tp>::__single_object std::make_unique(_Args&& ...) [with _Tp = autoware::universe_utils::DebugPublisher; _Args = {autoware::low_intensity_cluster_filter::LowIntensityClusterFilter*}; typename std::_MakeUniq<_Tp>::__single_object = std::unique_ptr<autoware::universe_utils::DebugPublisher>]’:
  /workspace/repos/autoware/src/universe/autoware.universe/perception/autoware_raindrop_cluster_filter/src/low_intensity_cluster_filter_node.cpp:55:84:   required from here
  /usr/include/c++/11/bits/unique_ptr.h:962:30: error: no matching function for call to ‘autoware::universe_utils::DebugPublisher::DebugPublisher(autoware::low_intensity_cluster_filter::LowIntensityClusterFilter*)’
    962 |     { return unique_ptr<_Tp>(new _Tp(std::forward<_Args>(__args)...)); }
        |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  In file included from /workspace/repos/autoware/src/universe/autoware.universe/perception/autoware_raindrop_cluster_filter/src/low_intensity_cluster_filter_node.hpp:19,
                   from /workspace/repos/autoware/src/universe/autoware.universe/perception/autoware_raindrop_cluster_filter/src/low_intensity_cluster_filter_node.cpp:15:
  /workspace/repos/autoware/install/autoware_universe_utils/include/autoware/universe_utils/ros/debug_publisher.hpp:49:12: note: candidate: ‘autoware::universe_utils::DebugPublisher::DebugPublisher(rclcpp::Node*, const char*)’
     49 |   explicit DebugPublisher(rclcpp::Node * node, const char * ns) : node_(node), ns_(ns) {}
        |            ^~~~~~~~~~~~~~
  /workspace/repos/autoware/install/autoware_universe_utils/include/autoware/universe_utils/ros/debug_publisher.hpp:49:12: note:   candidate expects 2 arguments, 1 provided
  /workspace/repos/autoware/install/autoware_universe_utils/include/autoware/universe_utils/ros/debug_publisher.hpp:46:7: note: candidate: ‘autoware::universe_utils::DebugPublisher::DebugPublisher(const autoware::universe_utils::DebugPublisher&)’
     46 | class DebugPublisher
        |       ^~~~~~~~~~~~~~
  /workspace/repos/autoware/install/autoware_universe_utils/include/autoware/universe_utils/ros/debug_publisher.hpp:46:7: note:   no known conversion for argument 1 from ‘autoware::low_intensity_cluster_filter::LowIntensityClusterFilter*’ to ‘const autoware::universe_utils::DebugPublisher&’
  /workspace/repos/autoware/install/autoware_universe_utils/include/autoware/universe_utils/ros/debug_publisher.hpp:46:7: note: candidate: ‘autoware::universe_utils::DebugPublisher::DebugPublisher(autoware::universe_utils::DebugPublisher&&)’
  /workspace/repos/autoware/install/autoware_universe_utils/include/autoware/universe_utils/ros/debug_publisher.hpp:46:7: note:   no known conversion for argument 1 from ‘autoware::low_intensity_cluster_filter::LowIntensityClusterFilter*’ to ‘autoware::universe_utils::DebugPublisher&&’
  gmake[2]: *** [CMakeFiles/low_intensity_cluster_filter.dir/build.make:76: CMakeFiles/low_intensity_cluster_filter.dir/src/low_intensity_cluster_filter_node.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:159: CMakeFiles/low_intensity_cluster_filter.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< autoware_raindrop_cluster_filter [8.29s, exited with code 2]

  Summary: 0 packages finished [9.70s]
    1 package failed: autoware_raindrop_cluster_filter
    1 package had stderr output: autoware_raindrop_cluster_filter
generate_code.cpp: |-
  LowIntensityClusterFilter::LowIntensityClusterFilter(const rclcpp::NodeOptions & node_options)
  : Node("low_intensity_cluster_filter_node", node_options),
    tf_buffer_(this->get_clock()),
    tf_listener_(tf_buffer_)
  {
    // Declare and initialize parameters
    intensity_threshold_ = this->declare_parameter<double>("intensity_threshold", 0.5);
    existence_probability_threshold_ = this->declare_parameter<double>("existence_probability_threshold", 0.5);
    max_x_ = this->declare_parameter<double>("max_x", 50.0);
    min_x_ = this->declare_parameter<double>("min_x", -50.0);
    max_y_ = this->declare_parameter<double>("max_y", 50.0);
    min_y_ = this->declare_parameter<double>("min_y", -50.0);

    // Initialize filter target label
    std::string filter_target_label = this->declare_parameter<std::string>("filter_target_label", "unknown");
    filter_target_ = autoware::detected_object_validation::utils::FilterTargetLabel(filter_target_label);

    // Initialize publishers and subscribers
    object_pub_ = this->create_publisher<tier4_perception_msgs::msg::DetectedObjectsWithFeature>(
      "~/output/objects", rclcpp::QoS{1});
    object_sub_ = this->create_subscription<tier4_perception_msgs::msg::DetectedObjectsWithFeature>(
      "~/input/objects", rclcpp::QoS{1},
      std::bind(&LowIntensityClusterFilter::filterObjectsCallback, this, std::placeholders::_1));

    // Initialize stopwatch and debug publisher
    stop_watch_ptr_ = std::make_unique<autoware::universe_utils::StopWatch<std::chrono::milliseconds>>();
    debug_publisher_ptr_ = std::make_unique<autoware::universe_utils::DebugPublisher>(this);

    RCLCPP_INFO(this->get_logger(), "LowIntensityClusterFilter node has been initialized.");
  }
ground_truth.cpp: |-
  LowIntensityClusterFilter::LowIntensityClusterFilter(const rclcpp::NodeOptions & node_options)
  : Node("low_intensity_cluster_filter_node", node_options),
    tf_buffer_(this->get_clock()),
    tf_listener_(tf_buffer_)
  {
    intensity_threshold_ = declare_parameter<double>("intensity_threshold");
    existence_probability_threshold_ = declare_parameter<double>("existence_probability_threshold");
    max_x_ = declare_parameter<double>("max_x");
    min_x_ = declare_parameter<double>("min_x");
    max_y_ = declare_parameter<double>("max_y");
    min_y_ = declare_parameter<double>("min_y");

    filter_target_.UNKNOWN = declare_parameter<bool>("filter_target_label.UNKNOWN");
    filter_target_.CAR = declare_parameter<bool>("filter_target_label.CAR");
    filter_target_.TRUCK = declare_parameter<bool>("filter_target_label.TRUCK");
    filter_target_.BUS = declare_parameter<bool>("filter_target_label.BUS");
    filter_target_.TRAILER = declare_parameter<bool>("filter_target_label.TRAILER");
    filter_target_.MOTORCYCLE = declare_parameter<bool>("filter_target_label.MOTORCYCLE");
    filter_target_.BICYCLE = declare_parameter<bool>("filter_target_label.BICYCLE");
    filter_target_.PEDESTRIAN = declare_parameter<bool>("filter_target_label.PEDESTRIAN");

    using std::placeholders::_1;
    // Set publisher/subscriber
    object_sub_ = this->create_subscription<tier4_perception_msgs::msg::DetectedObjectsWithFeature>(
      "input/objects", rclcpp::QoS{1},
      std::bind(&LowIntensityClusterFilter::objectCallback, this, _1));
    object_pub_ = this->create_publisher<tier4_perception_msgs::msg::DetectedObjectsWithFeature>(
      "output/objects", rclcpp::QoS{1});
    // initialize debug tool
    {
      using autoware::universe_utils::DebugPublisher;
      using autoware::universe_utils::StopWatch;
      stop_watch_ptr_ = std::make_unique<StopWatch<std::chrono::milliseconds>>();
      debug_publisher_ptr_ =
        std::make_unique<DebugPublisher>(this, "low_intensity_cluster_filter_node");
      stop_watch_ptr_->tic("cyclic_time");
      stop_watch_ptr_->tic("processing_time");
    }
  }
