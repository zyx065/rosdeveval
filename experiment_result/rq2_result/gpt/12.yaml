compilation.log: |
  Starting >>> autoware_map_loader
  --- stderr: autoware_map_loader
  /workspace/repos/autoware/src/universe/autoware.universe/map/autoware_map_loader/src/pointcloud_map_loader/differential_map_loader_module.cpp: In lambda function:
  /workspace/repos/autoware/src/universe/autoware.universe/map/autoware_map_loader/src/pointcloud_map_loader/differential_map_loader_module.cpp:35:40: error: ‘using element_type = struct autoware_map_msgs::srv::GetDifferentialPointCloudMap_Request_<std::allocator<void> >’ {aka ‘struct autoware_map_msgs::srv::GetDifferentialPointCloudMap_Request_<std::allocator<void> >’} has no member named ‘map_id’
     35 |         const auto & map_id = request->map_id;
        |                                        ^~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/map/autoware_map_loader/src/pointcloud_map_loader/differential_map_loader_module.cpp:36:38: error: ‘using element_type = struct autoware_map_msgs::srv::GetDifferentialPointCloudMap_Request_<std::allocator<void> >’ {aka ‘struct autoware_map_msgs::srv::GetDifferentialPointCloudMap_Request_<std::allocator<void> >’} has no member named ‘path’
     36 |         const auto & path = request->path;
        |                                      ^~~~
  /workspace/repos/autoware/src/universe/autoware.universe/map/autoware_map_loader/src/pointcloud_map_loader/differential_map_loader_module.cpp:39:19: error: ‘using element_type = struct autoware_map_msgs::srv::GetDifferentialPointCloudMap_Response_<std::allocator<void> >’ {aka ‘struct autoware_map_msgs::srv::GetDifferentialPointCloudMap_Response_<std::allocator<void> >’} has no member named ‘map_cell’
     39 |         response->map_cell = this->on_service_get_differential_point_cloud_map(path, map_id);
        |                   ^~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/map/autoware_map_loader/src/pointcloud_map_loader/differential_map_loader_module.cpp:40:19: error: ‘using element_type = struct autoware_map_msgs::srv::GetDifferentialPointCloudMap_Response_<std::allocator<void> >’ {aka ‘struct autoware_map_msgs::srv::GetDifferentialPointCloudMap_Response_<std::allocator<void> >’} has no member named ‘success’
     40 |         response->success = true;
        |                   ^~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/map/autoware_map_loader/src/pointcloud_map_loader/differential_map_loader_module.cpp:44:19: error: ‘using element_type = struct autoware_map_msgs::srv::GetDifferentialPointCloudMap_Response_<std::allocator<void> >’ {aka ‘struct autoware_map_msgs::srv::GetDifferentialPointCloudMap_Response_<std::allocator<void> >’} has no member named ‘success’
     44 |         response->success = false;
        |                   ^~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/map/autoware_map_loader/src/pointcloud_map_loader/differential_map_loader_module.cpp:45:19: error: ‘using element_type = struct autoware_map_msgs::srv::GetDifferentialPointCloudMap_Response_<std::allocator<void> >’ {aka ‘struct autoware_map_msgs::srv::GetDifferentialPointCloudMap_Response_<std::allocator<void> >’} has no member named ‘error_message’
     45 |         response->error_message = e.what();
        |                   ^~~~~~~~~~~~~
  gmake[2]: *** [CMakeFiles/pointcloud_map_loader_node.dir/build.make:118: CMakeFiles/pointcloud_map_loader_node.dir/src/pointcloud_map_loader/differential_map_loader_module.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:192: CMakeFiles/pointcloud_map_loader_node.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< autoware_map_loader [5.68s, exited with code 2]

  Summary: 0 packages finished [7.10s]
    1 package failed: autoware_map_loader
    1 package had stderr output: autoware_map_loader
generate_code.cpp: |-
  DifferentialMapLoaderModule::DifferentialMapLoaderModule(
    rclcpp::Node * node, std::map<std::string, PCDFileMetadata> pcd_file_metadata_dict)
  : logger_(node->get_logger()), all_pcd_file_metadata_dict_(std::move(pcd_file_metadata_dict))
  {
    // Initialize the service for getting differential point cloud maps
    get_differential_pcd_maps_service_ = node->create_service<GetDifferentialPointCloudMap>(
      "get_differential_point_cloud_map",
      [this](const std::shared_ptr<GetDifferentialPointCloudMap::Request> request,
             std::shared_ptr<GetDifferentialPointCloudMap::Response> response) {
        try {
          // Process the request and populate the response
          const auto & map_id = request->map_id;
          const auto & path = request->path;

          // Call the helper function to get the differential point cloud map
          response->map_cell = this->on_service_get_differential_point_cloud_map(path, map_id);
          response->success = true;
        } catch (const std::exception & e) {
          // Log the error and set the response as unsuccessful
          RCLCPP_ERROR(logger_, "Failed to process differential map request: %s", e.what());
          response->success = false;
          response->error_message = e.what();
        }
      });

    RCLCPP_INFO(logger_, "DifferentialMapLoaderModule initialized and service created.");
  }
ground_truth.cpp: |-
  DifferentialMapLoaderModule::DifferentialMapLoaderModule(
    rclcpp::Node * node, std::map<std::string, PCDFileMetadata> pcd_file_metadata_dict)
  : logger_(node->get_logger()), all_pcd_file_metadata_dict_(std::move(pcd_file_metadata_dict))
  {
    get_differential_pcd_maps_service_ = node->create_service<GetDifferentialPointCloudMap>(
      "service/get_differential_pcd_map",
      std::bind(
        &DifferentialMapLoaderModule::on_service_get_differential_point_cloud_map, this,
        std::placeholders::_1, std::placeholders::_2));
  }
