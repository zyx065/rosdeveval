compilation.log: |
  Starting >>> moveit_core
  Finished <<< moveit_core [0.67s]

  Summary: 1 package finished [1.11s]
generate_code.cpp: |-
  void RobotModelBuilder::addCollisionBox(const std::string& link_name, const std::vector<double>& dims,
                                          geometry_msgs::msg::Pose origin)
  {
      // Ensure the dimensions vector has exactly 3 elements
      if (dims.size() != 3) {
          throw std::invalid_argument("Dimensions vector must have exactly 3 elements [x, y, z].");
      }

      // Create a new collision object
      urdf::CollisionSharedPtr collision = std::make_shared<urdf::Collision>();

      // Create a box geometry and set its dimensions
      urdf::BoxSharedPtr box = std::make_shared<urdf::Box>();
      box->dim.x = dims[0];
      box->dim.y = dims[1];
      box->dim.z = dims[2];

      // Assign the box geometry to the collision object
      collision->geometry = box;

      // Add the collision object to the specified link
      addLinkCollision(link_name, collision, origin);
  }
ground_truth.cpp: |-
  void RobotModelBuilder::addCollisionBox(const std::string& link_name, const std::vector<double>& dims,
                                          geometry_msgs::msg::Pose origin)
  {
    if (dims.size() != 3)
    {
      RCLCPP_ERROR(LOGGER, "There can only be 3 dimensions of a box (given %zu!)", dims.size());
      is_valid_ = false;
      return;
    }
    auto coll = std::make_shared<urdf::Collision>();
    auto geometry = std::make_shared<urdf::Box>();
    geometry->dim = urdf::Vector3(dims[0], dims[1], dims[2]);
    coll->geometry = geometry;
    addLinkCollision(link_name, coll, origin);
  }
