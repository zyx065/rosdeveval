compilation.log: |
  Starting >>> nav2_costmap_2d
  Finished <<< nav2_costmap_2d [0.66s]

  Summary: 1 package finished [0.90s]
generate_code.cpp: |-
  bool Costmap2D::copyWindow(
    const Costmap2D & source,
    unsigned int sx0, unsigned int sy0, unsigned int sxn, unsigned int syn,
    unsigned int dx0, unsigned int dy0)
  {
    // Validate source window bounds
    if (sx0 >= source.getSizeInCellsX() || sy0 >= source.getSizeInCellsY() ||
        sxn > source.getSizeInCellsX() || syn > source.getSizeInCellsY() ||
        sx0 >= sxn || sy0 >= syn)
    {
      return false; // Source window is out of bounds
    }

    // Calculate the width and height of the window
    unsigned int window_width = sxn - sx0;
    unsigned int window_height = syn - sy0;

    // Validate destination bounds
    if (dx0 + window_width > getSizeInCellsX() || dy0 + window_height > getSizeInCellsY())
    {
      return false; // Destination window is out of bounds
    }

    // Copy the region from the source costmap to the destination costmap
    copyMapRegion(
      source.costmap_, sx0, sy0, source.getSizeInCellsX(),
      costmap_, dx0, dy0, getSizeInCellsX(),
      window_width, window_height);

    return true; // Copy operation was successful
  }
ground_truth.cpp: |-
  bool Costmap2D::copyWindow(
    const Costmap2D & source,
    unsigned int sx0, unsigned int sy0, unsigned int sxn, unsigned int syn,
    unsigned int dx0, unsigned int dy0)
  {
    const unsigned int sz_x = sxn - sx0;
    const unsigned int sz_y = syn - sy0;

    if (sxn > source.getSizeInCellsX() || syn > source.getSizeInCellsY()) {
      return false;
    }

    if (dx0 + sz_x > size_x_ || dy0 + sz_y > size_y_) {
      return false;
    }

    copyMapRegion(
      source.costmap_, sx0, sy0, source.size_x_,
      costmap_, dx0, dy0, size_x_,
      sz_x, sz_y);
    return true;
  }
