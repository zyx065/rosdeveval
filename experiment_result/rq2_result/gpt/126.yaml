compilation.log: |
  Starting >>> moveit_servo
  Finished <<< moveit_servo [0.73s]

  Summary: 1 package finished [1.30s]
generate_code.cpp: |-
  void ServoCalcs::twistStampedCB(const geometry_msgs::msg::TwistStamped::ConstSharedPtr& msg)
  {
    // Lock the mutex to ensure thread safety
    std::lock_guard<std::mutex> lock(main_loop_mutex_);

    // Store the latest twist command
    latest_twist_stamped_ = msg;

    // Update the command timestamp
    latest_joint_command_stamp_ = msg->header.stamp;

    // Check if the incoming message is non-zero
    if (isNonZero(*msg))
    {
      // Set the flag indicating a new input command has been received
      new_input_cmd_ = true;

      // Notify waiting threads about the new input command
      input_cv_.notify_all();
    }
  }
ground_truth.cpp: |-
  void ServoCalcs::twistStampedCB(const geometry_msgs::msg::TwistStamped::ConstSharedPtr& msg)
  {
    const std::lock_guard<std::mutex> lock(main_loop_mutex_);
    latest_twist_stamped_ = msg;
    latest_twist_cmd_is_nonzero_ = isNonZero(*latest_twist_stamped_);

    if (msg->header.stamp != rclcpp::Time(0.))
      latest_twist_command_stamp_ = msg->header.stamp;

    // notify that we have a new input
    new_input_cmd_ = true;
    input_cv_.notify_all();
  }
