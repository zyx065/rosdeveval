compilation.log: |
  Starting >>> autoware_pose_instability_detector
  --- stderr: autoware_pose_instability_detector
  /workspace/repos/autoware/src/universe/autoware.universe/localization/autoware_pose_instability_detector/src/pose_instability_detector.cpp: In lambda function:
  /workspace/repos/autoware/src/universe/autoware.universe/localization/autoware_pose_instability_detector/src/pose_instability_detector.cpp:55:53: error: unused parameter ‘msg’ [-Werror=unused-parameter]
     55 |     [this](const nav_msgs::msg::Odometry::SharedPtr msg) {
        |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~
  /workspace/repos/autoware/src/universe/autoware.universe/localization/autoware_pose_instability_detector/src/pose_instability_detector.cpp: In lambda function:
  /workspace/repos/autoware/src/universe/autoware.universe/localization/autoware_pose_instability_detector/src/pose_instability_detector.cpp:63:76: error: unused parameter ‘msg’ [-Werror=unused-parameter]
     63 |     [this](const geometry_msgs::msg::TwistWithCovarianceStamped::SharedPtr msg) {
        |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~
  cc1plus: all warnings being treated as errors
  gmake[2]: *** [CMakeFiles/autoware_pose_instability_detector.dir/build.make:76: CMakeFiles/autoware_pose_instability_detector.dir/src/pose_instability_detector.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:159: CMakeFiles/autoware_pose_instability_detector.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< autoware_pose_instability_detector [9.78s, exited with code 2]

  Summary: 0 packages finished [11.2s]
    1 package failed: autoware_pose_instability_detector
    1 package had stderr output: autoware_pose_instability_detector
generate_code.cpp: |-
  PoseInstabilityDetector::PoseInstabilityDetector(const rclcpp::NodeOptions & options)
  : rclcpp::Node("pose_instability_detector", options),
    timer_period_(this->declare_parameter<double>("timer_period")),
    heading_velocity_maximum_(this->declare_parameter<double>("heading_velocity_maximum")),
    heading_velocity_scale_factor_tolerance_(
      this->declare_parameter<double>("heading_velocity_scale_factor_tolerance")),
    angular_velocity_maximum_(this->declare_parameter<double>("angular_velocity_maximum")),
    angular_velocity_scale_factor_tolerance_(
      this->declare_parameter<double>("angular_velocity_scale_factor_tolerance")),
    angular_velocity_bias_tolerance_(
      this->declare_parameter<double>("angular_velocity_bias_tolerance")),
    pose_estimator_longitudinal_tolerance_(
      this->declare_parameter<double>("pose_estimator_longitudinal_tolerance")),
    pose_estimator_lateral_tolerance_(
      this->declare_parameter<double>("pose_estimator_lateral_tolerance")),
    pose_estimator_vertical_tolerance_(
      this->declare_parameter<double>("pose_estimator_vertical_tolerance")),
    pose_estimator_angular_tolerance_(
      this->declare_parameter<double>("pose_estimator_angular_tolerance"))
  {
    // Subscriber for Odometry messages
    odometry_sub_ = this->create_subscription<nav_msgs::msg::Odometry>(
      "odometry", 10,
      [this](const nav_msgs::msg::Odometry::SharedPtr msg) {
        // Handle odometry data here
        RCLCPP_INFO(this->get_logger(), "Received odometry data");
      });

    // Subscriber for TwistWithCovarianceStamped messages
    twist_sub_ = this->create_subscription<geometry_msgs::msg::TwistWithCovarianceStamped>(
      "twist", 10,
      [this](const geometry_msgs::msg::TwistWithCovarianceStamped::SharedPtr msg) {
        // Handle twist data here
        RCLCPP_INFO(this->get_logger(), "Received twist data");
      });

    // Publisher for PoseStamped messages
    diff_pose_pub_ = this->create_publisher<geometry_msgs::msg::PoseStamped>(
      "diff_pose", 10);

    // Publisher for DiagnosticArray messages
    diagnostics_pub_ = this->create_publisher<diagnostic_msgs::msg::DiagnosticArray>(
      "diagnostics", 10);

    // Timer for periodic callback
    timer_ = this->create_wall_timer(
      std::chrono::duration<double>(timer_period_),
      std::bind(&PoseInstabilityDetector::callback_timer, this));
  }
ground_truth.cpp: |-
  PoseInstabilityDetector::PoseInstabilityDetector(const rclcpp::NodeOptions & options)
  : rclcpp::Node("pose_instability_detector", options),
    timer_period_(this->declare_parameter<double>("timer_period")),
    heading_velocity_maximum_(this->declare_parameter<double>("heading_velocity_maximum")),
    heading_velocity_scale_factor_tolerance_(
      this->declare_parameter<double>("heading_velocity_scale_factor_tolerance")),
    angular_velocity_maximum_(this->declare_parameter<double>("angular_velocity_maximum")),
    angular_velocity_scale_factor_tolerance_(
      this->declare_parameter<double>("angular_velocity_scale_factor_tolerance")),
    angular_velocity_bias_tolerance_(
      this->declare_parameter<double>("angular_velocity_bias_tolerance")),
    pose_estimator_longitudinal_tolerance_(
      this->declare_parameter<double>("pose_estimator_longitudinal_tolerance")),
    pose_estimator_lateral_tolerance_(
      this->declare_parameter<double>("pose_estimator_lateral_tolerance")),
    pose_estimator_vertical_tolerance_(
      this->declare_parameter<double>("pose_estimator_vertical_tolerance")),
    pose_estimator_angular_tolerance_(
      this->declare_parameter<double>("pose_estimator_angular_tolerance"))
  {
    // Define subscribers, publishers and a timer.
    odometry_sub_ = this->create_subscription<Odometry>(
      "~/input/odometry", 10,
      std::bind(&PoseInstabilityDetector::callback_odometry, this, std::placeholders::_1));

    twist_sub_ = this->create_subscription<TwistWithCovarianceStamped>(
      "~/input/twist", 10,
      std::bind(&PoseInstabilityDetector::callback_twist, this, std::placeholders::_1));

    timer_ = rclcpp::create_timer(
      this, this->get_clock(), std::chrono::duration<double>(timer_period_),
      std::bind(&PoseInstabilityDetector::callback_timer, this));

    diff_pose_pub_ = this->create_publisher<PoseStamped>("~/debug/diff_pose", 10);
    diagnostics_pub_ = this->create_publisher<DiagnosticArray>("/diagnostics", 10);
  }
