compilation.log: ""
generate_code.cpp: |-
  geometry_msgs::msg::Vector3 GyroBiasEstimationModule::get_bias_base_link() const {
      // Ensure the bias vector is valid
      if (bias_vector_.x == 0.0 && bias_vector_.y == 0.0 && bias_vector_.z == 0.0) {
          throw std::runtime_error("Gyroscope bias vector is zero, cannot normalize.");
      }

      // Normalize the bias vector
      double magnitude = std::sqrt(bias_vector_.x * bias_vector_.x +
                                   bias_vector_.y * bias_vector_.y +
                                   bias_vector_.z * bias_vector_.z);

      if (magnitude == 0.0) {
          throw std::runtime_error("Magnitude of gyroscope bias vector is zero, cannot normalize.");
      }

      geometry_msgs::msg::Vector3 normalized_bias;
      normalized_bias.x = bias_vector_.x / magnitude;
      normalized_bias.y = bias_vector_.y / magnitude;
      normalized_bias.z = bias_vector_.z / magnitude;

      return normalized_bias;
  }
ground_truth.cpp: |-
  geometry_msgs::msg::Vector3 GyroBiasEstimationModule::get_bias_base_link() const
  {
    geometry_msgs::msg::Vector3 gyro_bias_base;
    if (
      gyro_bias_pair_.second.x == 0 || gyro_bias_pair_.second.y == 0 ||
      gyro_bias_pair_.second.z == 0) {
      throw std::runtime_error("gyro_bias_pair_.second is zero");
    }
    gyro_bias_base.x = gyro_bias_pair_.first.x / gyro_bias_pair_.second.x;
    gyro_bias_base.y = gyro_bias_pair_.first.y / gyro_bias_pair_.second.y;
    gyro_bias_base.z = gyro_bias_pair_.first.z / gyro_bias_pair_.second.z;
    return gyro_bias_base;
  }
