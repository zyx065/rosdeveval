compilation.log: |
  Starting >>> autoware_control_evaluator
  --- stderr: autoware_control_evaluator
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp: In member function ‘void control_diagnostics::ControlEvaluatorNode::onTimer()’:
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:337:22: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<nav_msgs::msg::Odometry_<std::allocator<void> > >’ has no member named ‘isDataAvailable’
    337 |   if (!odometry_sub_.isDataAvailable() ||
        |                      ^~~~~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:338:19: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<geometry_msgs::msg::AccelWithCovarianceStamped_<std::allocator<void> > >’ has no member named ‘isDataAvailable’
    338 |       !accel_sub_.isDataAvailable() ||
        |                   ^~~~~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:339:18: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<autoware_planning_msgs::msg::Trajectory_<std::allocator<void> > >’ has no member named ‘isDataAvailable’
    339 |       !traj_sub_.isDataAvailable() ||
        |                  ^~~~~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:340:26: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<autoware_planning_msgs::msg::LaneletRoute_<std::allocator<void> >, autoware::universe_utils::polling_policy::Newest>’ has no member named ‘isDataAvailable’
    340 |       !route_subscriber_.isDataAvailable() ||
        |                          ^~~~~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:341:31: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<autoware_map_msgs::msg::LaneletMapBin_<std::allocator<void> >, autoware::universe_utils::polling_policy::Newest>’ has no member named ‘isDataAvailable’
    341 |       !vector_map_subscriber_.isDataAvailable() ||
        |                               ^~~~~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:342:34: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<tier4_planning_msgs::msg::PathWithLaneId_<std::allocator<void> > >’ has no member named ‘isDataAvailable’
    342 |       !behavior_path_subscriber_.isDataAvailable() ||
        |                                  ^~~~~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:343:22: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<autoware_vehicle_msgs::msg::SteeringReport_<std::allocator<void> > >’ has no member named ‘isDataAvailable’
    343 |       !steering_sub_.isDataAvailable()) {
        |                      ^~~~~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:349:39: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<nav_msgs::msg::Odometry_<std::allocator<void> > >’ has no member named ‘getData’
    349 |   const auto odometry = odometry_sub_.getData();
        |                                       ^~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:350:40: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<geometry_msgs::msg::AccelWithCovarianceStamped_<std::allocator<void> > >’ has no member named ‘getData’
    350 |   const auto acceleration = accel_sub_.getData();
        |                                        ^~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:351:37: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<autoware_planning_msgs::msg::Trajectory_<std::allocator<void> > >’ has no member named ‘getData’
    351 |   const auto trajectory = traj_sub_.getData();
        |                                     ^~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:352:40: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<autoware_planning_msgs::msg::LaneletRoute_<std::allocator<void> >, autoware::universe_utils::polling_policy::Newest>’ has no member named ‘getData’
    352 |   const auto route = route_subscriber_.getData();
        |                                        ^~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:353:50: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<autoware_map_msgs::msg::LaneletMapBin_<std::allocator<void> >, autoware::universe_utils::polling_policy::Newest>’ has no member named ‘getData’
    353 |   const auto vector_map = vector_map_subscriber_.getData();
        |                                                  ^~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:354:56: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<tier4_planning_msgs::msg::PathWithLaneId_<std::allocator<void> > >’ has no member named ‘getData’
    354 |   const auto behavior_path = behavior_path_subscriber_.getData();
        |                                                        ^~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:355:46: error: ‘class autoware::universe_utils::InterProcessPollingSubscriber<autoware_vehicle_msgs::msg::SteeringReport_<std::allocator<void> > >’ has no member named ‘getData’
    355 |   const auto steering_status = steering_sub_.getData();
        |                                              ^~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:358:16: error: ‘using MetricArrayMsg = using MetricArray = struct tier4_metric_msgs::msg::MetricArray_<std::allocator<void> >’ {aka ‘struct tier4_metric_msgs::msg::MetricArray_<std::allocator<void> >’} has no member named ‘metrics’
    358 |   metrics_msg_.metrics.clear();
        |                ^~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:372:16: error: ‘using MetricArrayMsg = using MetricArray = struct tier4_metric_msgs::msg::MetricArray_<std::allocator<void> >’ {aka ‘struct tier4_metric_msgs::msg::MetricArray_<std::allocator<void> >’} has no member named ‘header’
    372 |   metrics_msg_.header.stamp = this->now();
        |                ^~~~~~
  gmake[2]: *** [CMakeFiles/control_evaluator_node.dir/build.make:76: CMakeFiles/control_evaluator_node.dir/src/control_evaluator_node.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:159: CMakeFiles/control_evaluator_node.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< autoware_control_evaluator [14.1s, exited with code 2]

  Summary: 0 packages finished [15.6s]
    1 package failed: autoware_control_evaluator
    1 package had stderr output: autoware_control_evaluator
generate_code.cpp: "void ControlEvaluatorNode::onTimer()\n{\n  // Start timer for\
  \ processing time measurement\n  auto start_time = this->now();\n\n  // Check if\
  \ all required data is available\n  if (!odometry_sub_.isDataAvailable() || \n \
  \     !accel_sub_.isDataAvailable() || \n      !traj_sub_.isDataAvailable() || \n\
  \      !route_subscriber_.isDataAvailable() || \n      !vector_map_subscriber_.isDataAvailable()\
  \ || \n      !behavior_path_subscriber_.isDataAvailable() || \n      !steering_sub_.isDataAvailable())\
  \ {\n    RCLCPP_WARN_THROTTLE(this->get_logger(), *this->get_clock(), 1000, \"Waiting\
  \ for all required inputs.\");\n    return;\n  }\n\n  // Retrieve data from subscribers\n\
  \  const auto odometry = odometry_sub_.getData();\n  const auto acceleration = accel_sub_.getData();\n\
  \  const auto trajectory = traj_sub_.getData();\n  const auto route = route_subscriber_.getData();\n\
  \  const auto vector_map = vector_map_subscriber_.getData();\n  const auto behavior_path\
  \ = behavior_path_subscriber_.getData();\n  const auto steering_status = steering_sub_.getData();\n\
  \n  // Clear previous metrics\n  metrics_msg_.metrics.clear();\n\n  // Add metrics\n\
  \  AddLateralDeviationMetricMsg(trajectory, odometry.pose.pose.position);\n  AddYawDeviationMetricMsg(trajectory,\
  \ odometry.pose.pose);\n  AddGoalLongitudinalDeviationMetricMsg(odometry.pose.pose);\n\
  \  AddGoalLateralDeviationMetricMsg(odometry.pose.pose);\n  AddGoalYawDeviationMetricMsg(odometry.pose.pose);\n\
  \  AddBoundaryDistanceMetricMsg(behavior_path, odometry.pose.pose);\n  AddLaneletInfoMsg(odometry.pose.pose);\n\
  \  AddKinematicStateMetricMsg(odometry, acceleration);\n  AddSteeringMetricMsg(steering_status);\n\
  \n  // Publish metrics\n  metrics_msg_.header.stamp = this->now();\n  metrics_pub_->publish(metrics_msg_);\n\
  \n  // Measure and publish processing time\n  auto end_time = this->now();\n  double\
  \ processing_time = (end_time - start_time).seconds();\n  autoware_internal_debug_msgs::msg::Float64Stamped\
  \ processing_time_msg;\n  processing_time_msg.stamp = end_time;\n  processing_time_msg.data\
  \ = processing_time;\n  processing_time_pub_->publish(processing_time_msg);\n\n\
  \  RCLCPP_INFO(this->get_logger(), \"Metrics evaluation and publishing completed\
  \ in %.6f seconds.\", processing_time);\n}"
ground_truth.cpp: |-
  void ControlEvaluatorNode::onTimer()
  {
    autoware::universe_utils::StopWatch<std::chrono::milliseconds> stop_watch;
    const auto traj = traj_sub_.takeData();
    const auto odom = odometry_sub_.takeData();
    const auto acc = accel_sub_.takeData();
    const auto behavior_path = behavior_path_subscriber_.takeData();
    const auto steering_status = steering_sub_.takeData();

    // calculate deviation metrics
    if (odom && traj && !traj->points.empty()) {
      const Pose ego_pose = odom->pose.pose;
      AddLateralDeviationMetricMsg(*traj, ego_pose.position);
      AddYawDeviationMetricMsg(*traj, ego_pose);
    }

    getRouteData();
    if (odom && route_handler_.isHandlerReady()) {
      const Pose ego_pose = odom->pose.pose;
      AddLaneletInfoMsg(ego_pose);
      AddGoalLongitudinalDeviationMetricMsg(ego_pose);
      AddGoalLateralDeviationMetricMsg(ego_pose);
      AddGoalYawDeviationMetricMsg(ego_pose);
    }

    if (odom && acc) {
      AddKinematicStateMetricMsg(*odom, *acc);
    }

    if (odom && behavior_path) {
      const Pose ego_pose = odom->pose.pose;
      AddBoundaryDistanceMetricMsg(*behavior_path, ego_pose);
    }

    if (steering_status) {
      AddSteeringMetricMsg(*steering_status);
    }

    // Publish metrics
    metrics_msg_.stamp = now();
    metrics_pub_->publish(metrics_msg_);
    metrics_msg_ = MetricArrayMsg{};

    // Publish processing time
    autoware_internal_debug_msgs::msg::Float64Stamped processing_time_msg;
    processing_time_msg.stamp = get_clock()->now();
    processing_time_msg.data = stop_watch.toc();
    processing_time_pub_->publish(processing_time_msg);
  }
