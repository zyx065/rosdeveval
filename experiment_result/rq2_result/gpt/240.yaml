compilation.log: |
  Starting >>> autoware_control_evaluator
  --- stderr: autoware_control_evaluator
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp: In constructor ‘control_diagnostics::ControlEvaluatorNode::ControlEvaluatorNode(const rclcpp::NodeOptions&)’:
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:42:49: error: ‘tier4_debug_msgs’ was not declared in this scope; did you mean ‘tier4_metric_msgs’?
     42 |   processing_time_pub_ = this->create_publisher<tier4_debug_msgs::msg::Float64Stamped>("processing_time", rclcpp::QoS(1));
        |                                                 ^~~~~~~~~~~~~~~~
        |                                                 tier4_metric_msgs
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:42:32: error: parse error in template argument list
     42 |   processing_time_pub_ = this->create_publisher<tier4_debug_msgs::msg::Float64Stamped>("processing_time", rclcpp::QoS(1));
        |                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:42:87: error: no matching function for call to ‘control_diagnostics::ControlEvaluatorNode::create_publisher<<expression error> >(const char [16], rclcpp::QoS)’
     42 |   processing_time_pub_ = this->create_publisher<tier4_debug_msgs::msg::Float64Stamped>("processing_time", rclcpp::QoS(1));
        |                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  In file included from /opt/ros/humble/include/rclcpp/rclcpp/executors/single_threaded_executor.hpp:28,
                   from /opt/ros/humble/include/rclcpp/rclcpp/executors.hpp:22,
                   from /opt/ros/humble/include/rclcpp/rclcpp/rclcpp.hpp:155,
                   from /workspace/repos/autoware/install/autoware_universe_utils/include/autoware/universe_utils/ros/polling_subscriber.hpp:17,
                   from /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/include/autoware/control_evaluator/control_evaluator_node.hpp:23,
                   from /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:15:
  /opt/ros/humble/include/rclcpp/rclcpp/node.hpp:195:3: note: candidate: ‘template<class MessageT, class AllocatorT, class PublisherT> std::shared_ptr<PublisherT> rclcpp::Node::create_publisher(const string&, const rclcpp::QoS&, const rclcpp::PublisherOptionsWithAllocator<AllocatorT>&)’
    195 |   create_publisher(
        |   ^~~~~~~~~~~~~~~~
  /opt/ros/humble/include/rclcpp/rclcpp/node.hpp:195:3: note:   template argument deduction/substitution failed:
  /workspace/repos/autoware/src/universe/autoware.universe/evaluator/autoware_control_evaluator/src/control_evaluator_node.cpp:42:87: error: template argument 1 is invalid
     42 |   processing_time_pub_ = this->create_publisher<tier4_debug_msgs::msg::Float64Stamped>("processing_time", rclcpp::QoS(1));
        |                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  gmake[2]: *** [CMakeFiles/control_evaluator_node.dir/build.make:76: CMakeFiles/control_evaluator_node.dir/src/control_evaluator_node.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:159: CMakeFiles/control_evaluator_node.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< autoware_control_evaluator [13.8s, exited with code 2]

  Summary: 0 packages finished [15.3s]
    1 package failed: autoware_control_evaluator
    1 package had stderr output: autoware_control_evaluator
generate_code.cpp: |-
  ControlEvaluatorNode::ControlEvaluatorNode(const rclcpp::NodeOptions & node_options)
  : Node("control_evaluator", node_options),
    vehicle_info_(autoware::vehicle_info_utils::VehicleInfoUtils(*this).getVehicleInfo())
  {
    // Declare and get parameters
    output_metrics_ = this->declare_parameter<bool>("output_metrics", true);

    // Initialize publishers
    processing_time_pub_ = this->create_publisher<tier4_debug_msgs::msg::Float64Stamped>("processing_time", rclcpp::QoS(1));
    metrics_pub_ = this->create_publisher<MetricArrayMsg>("metrics", rclcpp::QoS(1));

    // Timer for periodic diagnostics
    const auto timer_callback = [this]() {
      // Placeholder for diagnostics logic
      RCLCPP_INFO(this->get_logger(), "Periodic diagnostics timer triggered.");
    };
    timer_ = this->create_wall_timer(std::chrono::seconds(1), timer_callback);

    RCLCPP_INFO(this->get_logger(), "ControlEvaluatorNode initialized.");
  }
ground_truth.cpp: |-
  ControlEvaluatorNode::ControlEvaluatorNode(const rclcpp::NodeOptions & node_options)
  : Node("control_evaluator", node_options),
    vehicle_info_(autoware::vehicle_info_utils::VehicleInfoUtils(*this).getVehicleInfo())
  {
    using std::placeholders::_1;

    // Publisher
    processing_time_pub_ = this->create_publisher<autoware_internal_debug_msgs::msg::Float64Stamped>(
      "~/debug/processing_time_ms", 1);
    metrics_pub_ = create_publisher<MetricArrayMsg>("~/metrics", 1);

    // Parameters
    output_metrics_ = declare_parameter<bool>("output_metrics");

    // Timer callback to publish evaluator diagnostics
    using namespace std::literals::chrono_literals;
    timer_ =
      rclcpp::create_timer(this, get_clock(), 100ms, std::bind(&ControlEvaluatorNode::onTimer, this));
  }
