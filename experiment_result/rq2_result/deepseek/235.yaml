compilation.log: |
  Starting >>> autoware_trajectory_follower_node
  --- stderr: autoware_trajectory_follower_node
  /workspace/repos/autoware/src/universe/autoware.universe/control/autoware_trajectory_follower_node/src/controller_node.cpp: In member function ‘void autoware::motion::control::trajectory_follower_node::Controller::callbackTimerControl()’:
  /workspace/repos/autoware/src/universe/autoware.universe/control/autoware_trajectory_follower_node/src/controller_node.cpp:209:8: error: ‘m_current_input_data’ was not declared in this scope
    209 |   if (!m_current_input_data) {
        |        ^~~~~~~~~~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/control/autoware_trajectory_follower_node/src/controller_node.cpp:216:8: error: ‘m_lateral_controller’ was not declared in this scope; did you mean ‘mpc_lateral_controller’?
    216 |   if (!m_lateral_controller->isReady(*m_current_input_data) ||
        |        ^~~~~~~~~~~~~~~~~~~~
        |        mpc_lateral_controller
  /workspace/repos/autoware/src/universe/autoware.universe/control/autoware_trajectory_follower_node/src/controller_node.cpp:216:39: error: ‘m_current_input_data’ was not declared in this scope
    216 |   if (!m_lateral_controller->isReady(*m_current_input_data) ||
        |                                       ^~~~~~~~~~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/control/autoware_trajectory_follower_node/src/controller_node.cpp:217:8: error: ‘m_longitudinal_controller’ was not declared in this scope; did you mean ‘longitudinal_controller_’?
    217 |       !m_longitudinal_controller->isReady(*m_current_input_data)) {
        |        ^~~~~~~~~~~~~~~~~~~~~~~~~
        |        longitudinal_controller_
  /workspace/repos/autoware/src/universe/autoware.universe/control/autoware_trajectory_follower_node/src/controller_node.cpp:224:24: error: ‘m_lateral_controller’ was not declared in this scope; did you mean ‘mpc_lateral_controller’?
    224 |   const auto lat_out = m_lateral_controller->run(*m_current_input_data);
        |                        ^~~~~~~~~~~~~~~~~~~~
        |                        mpc_lateral_controller
  /workspace/repos/autoware/src/universe/autoware.universe/control/autoware_trajectory_follower_node/src/controller_node.cpp:224:51: error: ‘m_current_input_data’ was not declared in this scope
    224 |   const auto lat_out = m_lateral_controller->run(*m_current_input_data);
        |                                                   ^~~~~~~~~~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/control/autoware_trajectory_follower_node/src/controller_node.cpp:227:24: error: ‘m_longitudinal_controller’ was not declared in this scope; did you mean ‘longitudinal_controller_’?
    227 |   const auto lon_out = m_longitudinal_controller->run(*m_current_input_data);
        |                        ^~~~~~~~~~~~~~~~~~~~~~~~~
        |                        longitudinal_controller_
  /workspace/repos/autoware/src/universe/autoware.universe/control/autoware_trajectory_follower_node/src/controller_node.cpp:242:5: error: ‘m_pub_control_cmd’ was not declared in this scope
    242 |     m_pub_control_cmd->publish(merged_horizon->control_cmd);
        |     ^~~~~~~~~~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/control/autoware_trajectory_follower_node/src/controller_node.cpp:243:5: error: ‘m_pub_control_cmd_horizon’ was not declared in this scope; did you mean ‘enable_control_cmd_horizon_pub_’?
    243 |     m_pub_control_cmd_horizon->publish(merged_horizon->control_cmd_horizon);
        |     ^~~~~~~~~~~~~~~~~~~~~~~~~
        |     enable_control_cmd_horizon_pub_
  gmake[2]: *** [CMakeFiles/controller_node.dir/build.make:76: CMakeFiles/controller_node.dir/src/controller_node.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:163: CMakeFiles/controller_node.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< autoware_trajectory_follower_node [11.3s, exited with code 2]

  Summary: 0 packages finished [12.7s]
    1 package failed: autoware_trajectory_follower_node
    1 package had stderr output: autoware_trajectory_follower_node
generate_code.cpp: "void Controller::callbackTimerControl()\n{\n  // Check if input\
  \ data is available\n  if (!m_current_input_data) {\n    RCLCPP_WARN_THROTTLE(\n\
  \      get_logger(), *get_clock(), 1000, \"Input data is not available. Skipping\
  \ control cycle.\");\n    return;\n  }\n\n  // Check if controllers are ready\n\
  \  if (!m_lateral_controller->isReady(*m_current_input_data) || \n      !m_longitudinal_controller->isReady(*m_current_input_data))\
  \ {\n    RCLCPP_WARN_THROTTLE(\n      get_logger(), *get_clock(), 1000, \"Controllers\
  \ are not ready. Skipping control cycle.\");\n    return;\n  }\n\n  // Execute lateral\
  \ control\n  const auto lat_out = m_lateral_controller->run(*m_current_input_data);\n\
  \  \n  // Execute longitudinal control\n  const auto lon_out = m_longitudinal_controller->run(*m_current_input_data);\n\
  \n  // Synchronize controllers\n  m_lateral_controller->sync(lon_out.sync_data);\n\
  \  m_longitudinal_controller->sync(lat_out.sync_data);\n\n  // Merge lateral and\
  \ longitudinal horizons\n  const auto merged_horizon = mergeLatLonHorizon(\n   \
  \ lat_out.control_cmd_horizon, lon_out.control_cmd_horizon, get_clock()->now());\n\
  \  \n  // Publish debug markers if needed\n  publishDebugMarker(*m_current_input_data,\
  \ lat_out);\n\n  // Publish control commands\n  if (merged_horizon) {\n    m_pub_control_cmd->publish(merged_horizon->control_cmd);\n\
  \    m_pub_control_cmd_horizon->publish(merged_horizon->control_cmd_horizon);\n\
  \  }\n}"
ground_truth.cpp: |-
  void Controller::callbackTimerControl()
  {
    // 1. create input data
    const auto input_data = createInputData(*get_clock());
    if (!input_data) {
      RCLCPP_INFO_THROTTLE(
        get_logger(), *get_clock(), 5000, "Control is skipped since input data is not ready.");
      return;
    }

    // 2. check if controllers are ready
    const bool is_lat_ready = lateral_controller_->isReady(*input_data);
    const bool is_lon_ready = longitudinal_controller_->isReady(*input_data);
    if (!is_lat_ready || !is_lon_ready) {
      RCLCPP_INFO_THROTTLE(
        get_logger(), *get_clock(), 5000,
        "Control is skipped since lateral and/or longitudinal controllers are not ready to run.");
      return;
    }

    // 3. run controllers
    stop_watch_.tic("lateral");
    const auto lat_out = lateral_controller_->run(*input_data);
    publishProcessingTime(stop_watch_.toc("lateral"), pub_processing_time_lat_ms_);

    stop_watch_.tic("longitudinal");
    const auto lon_out = longitudinal_controller_->run(*input_data);
    publishProcessingTime(stop_watch_.toc("longitudinal"), pub_processing_time_lon_ms_);

    // 4. sync with each other controllers
    longitudinal_controller_->sync(lat_out.sync_data);
    lateral_controller_->sync(lon_out.sync_data);

    // TODO(Horibe): Think specification. This comes from the old implementation.
    if (isTimeOut(lon_out, lat_out)) return;

    // 5. publish control command
    autoware_control_msgs::msg::Control out;
    out.stamp = this->now();
    out.lateral = lat_out.control_cmd;
    out.longitudinal = lon_out.control_cmd;
    control_cmd_pub_->publish(out);

    // 6. publish debug
    published_time_publisher_->publish_if_subscribed(control_cmd_pub_, out.stamp);
    publishDebugMarker(*input_data, lat_out);

    // 7. publish experimental topic
    if (enable_control_cmd_horizon_pub_) {
      const auto control_horizon =
        mergeLatLonHorizon(lat_out.control_cmd_horizon, lon_out.control_cmd_horizon, this->now());
      if (control_horizon.has_value()) {
        control_cmd_horizon_pub_->publish(control_horizon.value());
      }
    }
  }
architecture-codes:
  - Topic/Service Issue - Topic/Service Name Mismatch Issue
  - Topic/Service Issue - Incomplete Topic/Service Initialization Issue
  - ROS Parameter Issue - Use Non-existent Parameter Issue
functionality-codes:
  - Incomplete Code Issue - Missing Multiple Steps Issue
  - Operation/Calculation Issue - Data Structure Semantic Misinterpretation Issue

root-cause-codes:
  - Inadequate Comprehension of Functional Logic - Inadequate Understanding of Task Logic
  - Deficiencies in Domain Knowledge - Insufficient understanding of ROS Programming
  - Deficiencies in Domain Knowledge - Lack of ROS development best practices
  - Weakness in System-Level Integration - Lack of familiarity with the existing codebase