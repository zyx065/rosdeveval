compilation.log: |
  Starting >>> autoware_pid_longitudinal_controller
  --- stderr: autoware_pid_longitudinal_controller
  /workspace/repos/autoware/src/universe/autoware.universe/control/autoware_pid_longitudinal_controller/src/longitudinal_controller_utils.cpp: In function ‘double autoware::motion::control::pid_longitudinal_controller::longitudinal_utils::getPitchByPose(const Quaternion&)’:
  /workspace/repos/autoware/src/universe/autoware.universe/control/autoware_pid_longitudinal_controller/src/longitudinal_controller_utils.cpp:87:12: error: unused variable ‘sinr_cosp’ [-Werror=unused-variable]
     87 |     double sinr_cosp = 2 * (w * x + y * z);
        |            ^~~~~~~~~
  /workspace/repos/autoware/src/universe/autoware.universe/control/autoware_pid_longitudinal_controller/src/longitudinal_controller_utils.cpp:88:12: error: unused variable ‘cosr_cosp’ [-Werror=unused-variable]
     88 |     double cosr_cosp = 1 - 2 * (x * x + y * y);
        |            ^~~~~~~~~
  cc1plus: all warnings being treated as errors
  gmake[2]: *** [CMakeFiles/autoware_pid_longitudinal_controller_lib.dir/build.make:76: CMakeFiles/autoware_pid_longitudinal_controller_lib.dir/src/longitudinal_controller_utils.cpp.o] Error 1
  gmake[2]: *** Waiting for unfinished jobs....
  gmake[1]: *** [CMakeFiles/Makefile2:157: CMakeFiles/autoware_pid_longitudinal_controller_lib.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< autoware_pid_longitudinal_controller [10.5s, exited with code 2]

  Summary: 0 packages finished [12.0s]
    1 package failed: autoware_pid_longitudinal_controller
    1 package had stderr output: autoware_pid_longitudinal_controller
generate_code.cpp: |-
  double getPitchByPose(const Quaternion & quaternion_msg)
  {
      // Convert quaternion to Euler angles to get pitch
      double x = quaternion_msg.x;
      double y = quaternion_msg.y;
      double z = quaternion_msg.z;
      double w = quaternion_msg.w;

      // Roll (x-axis rotation)
      double sinr_cosp = 2 * (w * x + y * z);
      double cosr_cosp = 1 - 2 * (x * x + y * y);
      // double roll = std::atan2(sinr_cosp, cosr_cosp);

      // Pitch (y-axis rotation)
      double sinp = 2 * (w * y - z * x);
      double pitch;
      if (std::abs(sinp) >= 1)
          pitch = std::copysign(M_PI / 2, sinp); // use 90 degrees if out of range
      else
          pitch = std::asin(sinp);

      // Yaw (z-axis rotation)
      // double siny_cosp = 2 * (w * z + x * y);
      // double cosy_cosp = 1 - 2 * (y * y + z * z);
      // double yaw = std::atan2(siny_cosp, cosy_cosp);

      return pitch;
  }
ground_truth.cpp: |-
  double getPitchByPose(const Quaternion & quaternion_msg)
  {
    double roll, pitch, yaw;
    tf2::Quaternion quaternion;
    tf2::fromMsg(quaternion_msg, quaternion);
    tf2::Matrix3x3{quaternion}.getRPY(roll, pitch, yaw);

    return pitch;
  }
architecture-codes: []

functionality-codes:
  - Domain Library Issue - Lack of Domain Library Utilization Issue
  - Incomplete Code Issue - Missing Multiple Steps Issue

root-cause-codes:
  - Deficiencies in Domain Knowledge - Lack of Knowledge of Domain-Specific Libraries
  - Deficiencies in Domain Knowledge - Lack of ROS development best practices
  - Inadequate Comprehension of Functional Logic - Inadequate Understanding of System Requirements