compilation.log: |
  Starting >>> autoware_traffic_light_arbiter
  --- stderr: autoware_traffic_light_arbiter
  /workspace/repos/autoware/src/universe/autoware.universe/perception/autoware_traffic_light_arbiter/src/traffic_light_arbiter.cpp: In constructor ‘autoware::TrafficLightArbiter::TrafficLightArbiter(const rclcpp::NodeOptions&)’:
  /workspace/repos/autoware/src/universe/autoware.universe/perception/autoware_traffic_light_arbiter/src/traffic_light_arbiter.cpp:103:27: error: ‘class std::unique_ptr<SignalMatchValidator>’ has no member named ‘setExternalPriority’
    103 |   signal_match_validator_.setExternalPriority(external_priority_);
        |                           ^~~~~~~~~~~~~~~~~~~
  gmake[2]: *** [CMakeFiles/autoware_traffic_light_arbiter.dir/build.make:76: CMakeFiles/autoware_traffic_light_arbiter.dir/src/traffic_light_arbiter.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:157: CMakeFiles/autoware_traffic_light_arbiter.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< autoware_traffic_light_arbiter [8.14s, exited with code 2]

  Summary: 0 packages finished [9.72s]
    1 package failed: autoware_traffic_light_arbiter
    1 package had stderr output: autoware_traffic_light_arbiter
generate_code.cpp: "TrafficLightArbiter::TrafficLightArbiter(const rclcpp::NodeOptions\
  \ & options)\n: Node(\"traffic_light_arbiter\", options)\n{\n  // Declare parameters\n\
  \  this->declare_parameter<double>(\"external_time_tolerance\", 1.0);\n  this->declare_parameter<double>(\"\
  perception_time_tolerance\", 0.1);\n  this->declare_parameter<bool>(\"external_priority\"\
  , false);\n  this->declare_parameter<bool>(\"enable_signal_matching\", true);\n\n\
  \  // Get parameters\n  external_time_tolerance_ = this->get_parameter(\"external_time_tolerance\"\
  ).as_double();\n  perception_time_tolerance_ = this->get_parameter(\"perception_time_tolerance\"\
  ).as_double();\n  external_priority_ = this->get_parameter(\"external_priority\"\
  ).as_bool();\n  enable_signal_matching_ = this->get_parameter(\"enable_signal_matching\"\
  ).as_bool();\n\n  // Create subscribers\n  map_sub_ = this->create_subscription<LaneletMapBin>(\n\
  \    \"input/lanelet2_map\", rclcpp::QoS(1).transient_local(),\n    std::bind(&TrafficLightArbiter::onMap,\
  \ this, std::placeholders::_1));\n  \n  perception_tlr_sub_ = this->create_subscription<TrafficSignalArray>(\n\
  \    \"input/perception/traffic_signals\", rclcpp::QoS(1),\n    std::bind(&TrafficLightArbiter::onPerceptionMsg,\
  \ this, std::placeholders::_1));\n  \n  external_tlr_sub_ = this->create_subscription<TrafficSignalArray>(\n\
  \    \"input/external/traffic_signals\", rclcpp::QoS(1),\n    std::bind(&TrafficLightArbiter::onExternalMsg,\
  \ this, std::placeholders::_1));\n\n  // Create publisher\n  pub_ = this->create_publisher<TrafficSignalArray>(\"\
  output/traffic_signals\", rclcpp::QoS(1));\n\n  // Initialize signal match validator\n\
  \  signal_match_validator_.setExternalPriority(external_priority_);\n}"
ground_truth.cpp: |-
  TrafficLightArbiter::TrafficLightArbiter(const rclcpp::NodeOptions & options)
  : Node("traffic_light_arbiter", options)
  {
    external_delay_tolerance_ = this->declare_parameter<double>("external_delay_tolerance", 5.0);
    external_time_tolerance_ = this->declare_parameter<double>("external_time_tolerance", 5.0);
    perception_time_tolerance_ = this->declare_parameter<double>("perception_time_tolerance", 1.0);
    external_priority_ = this->declare_parameter<bool>("external_priority", false);
    enable_signal_matching_ = this->declare_parameter<bool>("enable_signal_matching", false);

    if (enable_signal_matching_) {
      signal_match_validator_ = std::make_unique<SignalMatchValidator>();
      signal_match_validator_->setExternalPriority(external_priority_);
    }

    map_sub_ = create_subscription<LaneletMapBin>(
      "~/sub/vector_map", rclcpp::QoS(1).transient_local(),
      std::bind(&TrafficLightArbiter::onMap, this, std::placeholders::_1));

    perception_tlr_sub_ = create_subscription<TrafficSignalArray>(
      "~/sub/perception_traffic_signals", rclcpp::QoS(1),
      std::bind(&TrafficLightArbiter::onPerceptionMsg, this, std::placeholders::_1));

    external_tlr_sub_ = create_subscription<TrafficSignalArray>(
      "~/sub/external_traffic_signals", rclcpp::QoS(1),
      std::bind(&TrafficLightArbiter::onExternalMsg, this, std::placeholders::_1));

    pub_ = create_publisher<TrafficSignalArray>("~/pub/traffic_signals", rclcpp::QoS(1));
  }
architecture-codes:
    - Topic/Service Issue - Topic/Service Name Mismatch Issue
    - ROS Parameter Issue - Use Non-existent Parameter Issue
    - ROS Parameter Issue - Insufficient Parameter Design Issue

functionality-codes:
    - Condition Issue - Conditional Check Missing Issue
    - Incomplete Code Issue - Missing One Step Issue

root-cause-codes:
    - Inadequate Comprehension of Functional Logic - Inadequate Understanding of System Requirements
    - Deficiencies in Domain Knowledge - Insufficient understanding of ROS Programming
    - Deficiencies in Domain Knowledge - Lack of ROS development best practices
    - Weakness in System-Level Integration - Lack of familiarity with the existing codebase