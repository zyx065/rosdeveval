compilation.log: |
  Starting >>> autoware_costmap_generator
  --- stderr: autoware_costmap_generator
  /workspace/repos/autoware/src/universe/autoware.universe/planning/autoware_costmap_generator/src/costmap_generator.cpp: In static member function ‘static void autoware::costmap_generator::CostmapGenerator::loadRoadAreasFromLaneletMap(lanelet::LaneletMapPtr, std::vector<geometry_msgs::msg::Polygon_<std::allocator<void> > >&)’:
  /workspace/repos/autoware/src/universe/autoware.universe/planning/autoware_costmap_generator/src/costmap_generator.cpp:199:35: error: use of deleted function ‘lanelet::AreaLayer::AreaLayer(const lanelet::AreaLayer&)’
    199 |   const auto areas = lanelet_map->areaLayer;
        |                                   ^~~~~~~~~
  In file included from /workspace/repos/autoware/install/autoware_lanelet2_extension/include/autoware_lanelet2_extension/utility/query.hpp:32,
                   from /workspace/repos/autoware/src/universe/autoware.universe/planning/autoware_costmap_generator/src/costmap_generator.cpp:50:
  /opt/ros/humble/include/lanelet2_core/LaneletMap.h:271:3: note: declared here
    271 |   AreaLayer(const AreaLayer&) = delete;
        |   ^~~~~~~~~
  In file included from /workspace/repos/autoware/build/autoware_costmap_generator/costmap_generator_node_parameters/include/costmap_generator_node_parameters.hpp:23,
                   from /workspace/repos/autoware/src/universe/autoware.universe/planning/autoware_costmap_generator/include/autoware/costmap_generator/costmap_generator.hpp:50,
                   from /workspace/repos/autoware/src/universe/autoware.universe/planning/autoware_costmap_generator/src/costmap_generator.cpp:45:
  /opt/ros/humble/include/parameter_traits/parameter_traits/parameter_traits.hpp: In function ‘void __static_initialization_and_destruction_0(int, int)’:
  /opt/ros/humble/include/parameter_traits/parameter_traits/parameter_traits.hpp:51:13: warning: ‘parameter_traits::OK’ is deprecated: When returning tl::expected<void, std::string> default construct for OK with `{}`. [-Wdeprecated-declarations]
     51 | auto static OK
        |             ^~
  /opt/ros/humble/include/parameter_traits/parameter_traits/parameter_traits.hpp:51:13: note: declared here
  gmake[2]: *** [CMakeFiles/costmap_generator_node.dir/build.make:76: CMakeFiles/costmap_generator_node.dir/src/costmap_generator.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:218: CMakeFiles/costmap_generator_node.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< autoware_costmap_generator [17.9s, exited with code 2]

  Summary: 0 packages finished [19.2s]
    1 package failed: autoware_costmap_generator
    1 package had stderr output: autoware_costmap_generator
generate_code.cpp: "void CostmapGenerator::loadRoadAreasFromLaneletMap(\n  const lanelet::LaneletMapPtr\
  \ lanelet_map,\n  std::vector<geometry_msgs::msg::Polygon> & area_polygons)\n{\n\
  \  // Clear the output vector\n  area_polygons.clear();\n\n  // Get all lanelet\
  \ areas from the map\n  const auto areas = lanelet_map->areaLayer;\n\n  // Iterate\
  \ through all areas in the map\n  for (const auto & area : areas) {\n    // Check\
  \ if the area is a road area (you might need to adjust this condition based on your\
  \ specific Lanelet2 tags)\n    if (area.hasAttribute(lanelet::AttributeName::Type)\
  \ && \n        area.attribute(lanelet::AttributeName::Type) == lanelet::AttributeValueString::Road)\
  \ {\n      \n      // Get the outer polygon of the area\n      const auto outer_poly\
  \ = area.outerBoundPolygon();\n\n      // Convert to geometry_msgs::msg::Polygon\n\
  \      geometry_msgs::msg::Polygon polygon_msg;\n      for (const auto & point :\
  \ outer_poly) {\n        geometry_msgs::msg::Point32 pt;\n        pt.x = static_cast<float>(point.x());\n\
  \        pt.y = static_cast<float>(point.y());\n        pt.z = static_cast<float>(point.z());\n\
  \        polygon_msg.points.push_back(pt);\n      }\n\n      // Add to output vector\n\
  \      area_polygons.push_back(polygon_msg);\n    }\n  }\n}"
ground_truth.cpp: |-
  void CostmapGenerator::loadRoadAreasFromLaneletMap(
    const lanelet::LaneletMapPtr lanelet_map,
    std::vector<geometry_msgs::msg::Polygon> & area_polygons)
  {
    // use all lanelets in map of subtype road to give way area
    lanelet::ConstLanelets all_lanelets = lanelet::utils::query::laneletLayer(lanelet_map);
    lanelet::ConstLanelets road_lanelets = lanelet::utils::query::roadLanelets(all_lanelets);

    // convert lanelets to polygons and put into area_points array
    for (const auto & ll : road_lanelets) {
      geometry_msgs::msg::Polygon poly;
      geometry_msgs::msg::Point32 pt;
      for (const auto & p : ll.polygon3d().basicPolygon()) {
        lanelet::utils::conversion::toGeomMsgPt32(p, &pt);
        poly.points.push_back(pt);
      }
      area_polygons.push_back(poly);
    }
  }
architecture-codes:
  - ROS Message Issue - Message Operation Issue

functionality-codes:
  - Domain Library Issue - Domain Specific Library Utilization Error
  - Domain Library Issue - Lack of Domain Library Utilization Issue
  - Operation/Calculation Issue - Data Structure Semantic Misinterpretation Issue

root-cause-codes:
  - Inadequate Comprehension of Functional Logic - Inadequate Understanding of Task Logic
  - Deficiencies in Domain Knowledge - Lack of Knowledge of Domain-Specific Libraries
  - Deficiencies in Domain Knowledge - Insufficient understanding of ROS Programming
  - Weakness in System-Level Integration - Lack of familiarity with the existing codebase