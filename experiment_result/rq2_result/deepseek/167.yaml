compilation.log: |
  Starting >>> nav2_graceful_controller
  --- stderr: nav2_graceful_controller
  In file included from /usr/include/c++/11/memory:76,
                   from /opt/ros/humble/include/geometry_msgs/geometry_msgs/msg/detail/pose__struct.hpp:10,
                   from /opt/ros/humble/include/geometry_msgs/geometry_msgs/msg/pose.hpp:7,
                   from /root/repos/nav_ws/install/nav2_util/include/nav2_util/geometry_utils.hpp:20,
                   from /root/repos/nav_ws/src/nav2_graceful_controller/src/graceful_controller.cpp:15:
  /usr/include/c++/11/bits/unique_ptr.h: In instantiation of ‘typename std::_MakeUniq<_Tp>::__single_object std::make_unique(_Args&& ...) [with _Tp = nav2_graceful_controller::ParameterHandler; _Args = {std::shared_ptr<rclcpp_lifecycle::LifecycleNode>&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&}; typename std::_MakeUniq<_Tp>::__single_object = std::unique_ptr<nav2_graceful_controller::ParameterHandler>]’:
  /root/repos/nav_ws/src/nav2_graceful_controller/src/graceful_controller.cpp:39:80:   required from here
  /usr/include/c++/11/bits/unique_ptr.h:962:30: error: no matching function for call to ‘nav2_graceful_controller::ParameterHandler::ParameterHandler(std::shared_ptr<rclcpp_lifecycle::LifecycleNode>&, std::__cxx11::basic_string<char>&)’
    962 |     { return unique_ptr<_Tp>(new _Tp(std::forward<_Args>(__args)...)); }
        |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  In file included from /root/repos/nav_ws/src/nav2_graceful_controller/include/nav2_graceful_controller/graceful_controller.hpp:31,
                   from /root/repos/nav_ws/src/nav2_graceful_controller/src/graceful_controller.cpp:16:
  /root/repos/nav_ws/src/nav2_graceful_controller/include/nav2_graceful_controller/parameter_handler.hpp:65:3: note: candidate: ‘nav2_graceful_controller::ParameterHandler::ParameterHandler(rclcpp_lifecycle::LifecycleNode::SharedPtr, std::string&, rclcpp::Logger&, double)’
     65 |   ParameterHandler(
        |   ^~~~~~~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_graceful_controller/include/nav2_graceful_controller/parameter_handler.hpp:65:3: note:   candidate expects 4 arguments, 2 provided
  In file included from /usr/include/c++/11/memory:76,
                   from /opt/ros/humble/include/geometry_msgs/geometry_msgs/msg/detail/pose__struct.hpp:10,
                   from /opt/ros/humble/include/geometry_msgs/geometry_msgs/msg/pose.hpp:7,
                   from /root/repos/nav_ws/install/nav2_util/include/nav2_util/geometry_utils.hpp:20,
                   from /root/repos/nav_ws/src/nav2_graceful_controller/src/graceful_controller.cpp:15:
  /usr/include/c++/11/bits/unique_ptr.h: In instantiation of ‘typename std::_MakeUniq<_Tp>::__single_object std::make_unique(_Args&& ...) [with _Tp = nav2_graceful_controller::PathHandler; _Args = {std::shared_ptr<tf2_ros::Buffer>&, nav2_costmap_2d::Costmap2D*, nav2_graceful_controller::Parameters*&}; typename std::_MakeUniq<_Tp>::__single_object = std::unique_ptr<nav2_graceful_controller::PathHandler>]’:
  /root/repos/nav_ws/src/nav2_graceful_controller/src/graceful_controller.cpp:43:74:   required from here
  /usr/include/c++/11/bits/unique_ptr.h:962:30: error: no matching function for call to ‘nav2_graceful_controller::PathHandler::PathHandler(std::shared_ptr<tf2_ros::Buffer>&, nav2_costmap_2d::Costmap2D*, nav2_graceful_controller::Parameters*&)’
    962 |     { return unique_ptr<_Tp>(new _Tp(std::forward<_Args>(__args)...)); }
        |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  In file included from /root/repos/nav_ws/src/nav2_graceful_controller/include/nav2_graceful_controller/graceful_controller.hpp:30,
                   from /root/repos/nav_ws/src/nav2_graceful_controller/src/graceful_controller.cpp:16:
  /root/repos/nav_ws/src/nav2_graceful_controller/include/nav2_graceful_controller/path_handler.hpp:37:3: note: candidate: ‘nav2_graceful_controller::PathHandler::PathHandler(tf2::Duration, std::shared_ptr<tf2_ros::Buffer>, std::shared_ptr<nav2_costmap_2d::Costmap2DROS>)’
     37 |   PathHandler(
        |   ^~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_graceful_controller/include/nav2_graceful_controller/path_handler.hpp:38:19: note:   no known conversion for argument 1 from ‘std::shared_ptr<tf2_ros::Buffer>’ to ‘tf2::Duration’ {aka ‘std::chrono::duration<long int, std::ratio<1, 1000000000> >’}
     38 |     tf2::Duration transform_tolerance,
        |     ~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_graceful_controller/include/nav2_graceful_controller/path_handler.hpp:31:7: note: candidate: ‘nav2_graceful_controller::PathHandler::PathHandler(const nav2_graceful_controller::PathHandler&)’
     31 | class PathHandler
        |       ^~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_graceful_controller/include/nav2_graceful_controller/path_handler.hpp:31:7: note:   candidate expects 1 argument, 3 provided
  In file included from /usr/include/c++/11/memory:76,
                   from /opt/ros/humble/include/geometry_msgs/geometry_msgs/msg/detail/pose__struct.hpp:10,
                   from /opt/ros/humble/include/geometry_msgs/geometry_msgs/msg/pose.hpp:7,
                   from /root/repos/nav_ws/install/nav2_util/include/nav2_util/geometry_utils.hpp:20,
                   from /root/repos/nav_ws/src/nav2_graceful_controller/src/graceful_controller.cpp:15:
  /usr/include/c++/11/bits/unique_ptr.h: In instantiation of ‘typename std::_MakeUniq<_Tp>::__single_object std::make_unique(_Args&& ...) [with _Tp = nav2_graceful_controller::SmoothControlLaw; _Args = {nav2_graceful_controller::Parameters*&}; typename std::_MakeUniq<_Tp>::__single_object = std::unique_ptr<nav2_graceful_controller::SmoothControlLaw>]’:
  /root/repos/nav_ws/src/nav2_graceful_controller/src/graceful_controller.cpp:47:78:   required from here
  /usr/include/c++/11/bits/unique_ptr.h:962:30: error: no matching function for call to ‘nav2_graceful_controller::SmoothControlLaw::SmoothControlLaw(nav2_graceful_controller::Parameters*&)’
    962 |     { return unique_ptr<_Tp>(new _Tp(std::forward<_Args>(__args)...)); }
        |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  In file included from /root/repos/nav_ws/src/nav2_graceful_controller/include/nav2_graceful_controller/graceful_controller.hpp:32,
                   from /root/repos/nav_ws/src/nav2_graceful_controller/src/graceful_controller.cpp:16:
  /root/repos/nav_ws/src/nav2_graceful_controller/include/nav2_graceful_controller/smooth_control_law.hpp:47:3: note: candidate: ‘nav2_graceful_controller::SmoothControlLaw::SmoothControlLaw(double, double, double, double, double, double, double, double)’
     47 |   SmoothControlLaw(
        |   ^~~~~~~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_graceful_controller/include/nav2_graceful_controller/smooth_control_law.hpp:47:3: note:   candidate expects 8 arguments, 1 provided
  /root/repos/nav_ws/src/nav2_graceful_controller/include/nav2_graceful_controller/smooth_control_law.hpp:32:7: note: candidate: ‘constexpr nav2_graceful_controller::SmoothControlLaw::SmoothControlLaw(const nav2_graceful_controller::SmoothControlLaw&)’
     32 | class SmoothControlLaw
        |       ^~~~~~~~~~~~~~~~
  /root/repos/nav_ws/src/nav2_graceful_controller/include/nav2_graceful_controller/smooth_control_law.hpp:32:7: note:   no known conversion for argument 1 from ‘nav2_graceful_controller::Parameters*’ to ‘const nav2_graceful_controller::SmoothControlLaw&’
  gmake[2]: *** [CMakeFiles/nav2_graceful_controller.dir/build.make:76: CMakeFiles/nav2_graceful_controller.dir/src/graceful_controller.cpp.o] Error 1
  gmake[1]: *** [CMakeFiles/Makefile2:202: CMakeFiles/nav2_graceful_controller.dir/all] Error 2
  gmake: *** [Makefile:146: all] Error 2
  ---
  Failed   <<< nav2_graceful_controller [4.40s, exited with code 2]

  Summary: 0 packages finished [4.73s]
    1 package failed: nav2_graceful_controller
    1 package had stderr output: nav2_graceful_controller
generate_code.cpp: |-
  void GracefulController::configure(
    const rclcpp_lifecycle::LifecycleNode::WeakPtr & parent,
    std::string name, const std::shared_ptr<tf2_ros::Buffer> tf,
    const std::shared_ptr<nav2_costmap_2d::Costmap2DROS> costmap_ros)
  {
    auto node = parent.lock();
    if (!node) {
      throw std::runtime_error{"Unable to lock node!"};
    }

    plugin_name_ = name;
    tf_buffer_ = tf;
    costmap_ros_ = costmap_ros;
    logger_ = node->get_logger();

    // Initialize parameter handler
    param_handler_ = std::make_unique<nav2_graceful_controller::ParameterHandler>(node, name);
    params_ = param_handler_->getParams();

    // Initialize path handler
    path_handler_ = std::make_unique<nav2_graceful_controller::PathHandler>(
      tf_buffer_, costmap_ros_->getCostmap(), params_);

    // Initialize control law
    control_law_ = std::make_unique<nav2_graceful_controller::SmoothControlLaw>(params_);

    // Setup publishers
    transformed_plan_pub_ = node->create_publisher<nav_msgs::msg::Path>(
      "transformed_global_plan", rclcpp::SystemDefaultsQoS());
    local_plan_pub_ = node->create_publisher<nav_msgs::msg::Path>(
      "local_plan", rclcpp::SystemDefaultsQoS());
    motion_target_pub_ = node->create_publisher<geometry_msgs::msg::PointStamped>(
      "motion_target", rclcpp::SystemDefaultsQoS());
    slowdown_pub_ = node->create_publisher<visualization_msgs::msg::Marker>(
      "slowdown_region", rclcpp::SystemDefaultsQoS());

    RCLCPP_INFO(
      logger_, "Configured GracefulController %s of type nav2_graceful_controller::GracefulController",
      plugin_name_.c_str());
  }
ground_truth.cpp: |-
  void GracefulController::configure(
    const rclcpp_lifecycle::LifecycleNode::WeakPtr & parent,
    std::string name, const std::shared_ptr<tf2_ros::Buffer> tf,
    const std::shared_ptr<nav2_costmap_2d::Costmap2DROS> costmap_ros)
  {
    auto node = parent.lock();
    if (!node) {
      throw std::runtime_error("Unable to lock node!");
    }

    costmap_ros_ = costmap_ros;
    tf_buffer_ = tf;
    plugin_name_ = name;
    logger_ = node->get_logger();

    // Handles storage and dynamic configuration of parameters.
    // Returns pointer to data current param settings.
    param_handler_ = std::make_unique<ParameterHandler>(
      node, plugin_name_, logger_,
      costmap_ros_->getCostmap()->getSizeInMetersX());
    params_ = param_handler_->getParams();

    // Handles global path transformations
    path_handler_ = std::make_unique<PathHandler>(
      tf2::durationFromSec(params_->transform_tolerance), tf_buffer_, costmap_ros_);

    // Handles the control law to generate the velocity commands
    control_law_ = std::make_unique<SmoothControlLaw>(
      params_->k_phi, params_->k_delta, params_->beta, params_->lambda, params_->slowdown_radius,
      params_->v_linear_min, params_->v_linear_max, params_->v_angular_max);

    // Initialize footprint collision checker
    collision_checker_ = std::make_unique<nav2_costmap_2d::
        FootprintCollisionChecker<nav2_costmap_2d::Costmap2D *>>(costmap_ros_->getCostmap());

    // Publishers
    transformed_plan_pub_ = node->create_publisher<nav_msgs::msg::Path>("transformed_global_plan", 1);
    local_plan_pub_ = node->create_publisher<nav_msgs::msg::Path>("local_plan", 1);
    motion_target_pub_ = node->create_publisher<geometry_msgs::msg::PointStamped>("motion_target", 1);
    slowdown_pub_ = node->create_publisher<visualization_msgs::msg::Marker>("slowdown", 1);

    RCLCPP_INFO(logger_, "Configured Graceful Motion Controller: %s", plugin_name_.c_str());
  }
architecture-codes:
  - Topic/Service Issue - Topic/Service Name Mismatch Issue
  - Topic/Service Issue - QoS Policy Incompatibility Issue 

functionality-codes:
  - Incomplete Code Issue - Missing Multiple Steps Issue 
root-cause-codes:
  - Inadequate Comprehension of Functional Logic - Inadequate Understanding of System Requirements
  - Deficiencies in Domain Knowledge - Insufficient understanding of ROS Programming
  - Deficiencies in Domain Knowledge - Lack of ROS development best practices 
  - Weakness in System-Level Integration - Lack of familiarity with the existing codebase 